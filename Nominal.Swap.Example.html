<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Nominal.Swap.Example</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/nominal-agda/tree/master/Nominal/Swap/Example.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">-v</a> <a id="16" class="Pragma">nominal:100</a> <a id="28" class="Symbol">#-}</a>
<a id="32" class="Keyword">module</a> <a id="39" href="Nominal.Swap.Example.html" class="Module">Nominal.Swap.Example</a> <a id="60" class="Keyword">where</a>

<a id="67" class="Keyword">open</a> <a id="72" class="Keyword">import</a> <a id="79" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="91" class="Symbol">;</a> <a id="93" class="Keyword">open</a> <a id="98" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="108" class="Keyword">open</a> <a id="113" class="Keyword">import</a> <a id="120" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>

<a id="135" class="Comment">-- ** instantiate atoms to be the natural numbers</a>
<a id="185" class="Keyword">data</a> <a id="Atom"></a><a id="190" href="Nominal.Swap.Example.html#190" class="Datatype">Atom</a> <a id="195" class="Symbol">:</a> <a id="197" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="202" class="Keyword">where</a>
  <a id="Atom.`_"></a><a id="210" href="Nominal.Swap.Example.html#210" class="InductiveConstructor Operator">`_</a> <a id="213" class="Symbol">:</a> <a id="215" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="217" class="Symbol">→</a> <a id="219" href="Nominal.Swap.Example.html#190" class="Datatype">Atom</a>
<a id="224" class="Keyword">unquoteDecl</a> <a id="DecEq-Atom"></a><a id="236" href="Nominal.Swap.Example.html#236" class="Function">DecEq-Atom</a> <a id="247" class="Symbol">=</a> <a id="249" href="Prelude.Generics.Deriving.html#1365" class="Macro">DERIVE</a> <a id="256" href="Prelude.DecEq.Core.html#148" class="Record">DecEq</a> <a id="262" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="264" class="Keyword">quote</a> <a id="270" href="Nominal.Swap.Example.html#190" class="Datatype">Atom</a> <a id="275" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="277" href="Nominal.Swap.Example.html#236" class="Function">DecEq-Atom</a> <a id="288" href="Data.List.Base.html#5034" class="Function Operator">]</a>
<a id="290" class="Keyword">open</a> <a id="295" class="Keyword">import</a> <a id="302" href="Nominal.Swap.html" class="Module">Nominal.Swap</a> <a id="315" href="Nominal.Swap.Example.html#190" class="Datatype">Atom</a>
<a id="𝕒"></a><a id="320" href="Nominal.Swap.Example.html#320" class="Function">𝕒</a> <a id="322" class="Symbol">=</a> <a id="324" href="Nominal.Swap.Example.html#210" class="InductiveConstructor Operator">`</a> <a id="326" class="Number">0</a><a id="327" class="Symbol">;</a> <a id="𝕓"></a><a id="329" href="Nominal.Swap.Example.html#329" class="Function">𝕓</a> <a id="331" class="Symbol">=</a> <a id="333" href="Nominal.Swap.Example.html#210" class="InductiveConstructor Operator">`</a> <a id="335" class="Number">1</a>

<a id="338" class="Keyword">data</a> <a id="λTerm"></a><a id="343" href="Nominal.Swap.Example.html#343" class="Datatype">λTerm</a> <a id="349" class="Symbol">:</a> <a id="351" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="356" class="Keyword">where</a>
  <a id="λTerm._-APP-_"></a><a id="364" href="Nominal.Swap.Example.html#364" class="InductiveConstructor Operator">_-APP-_</a> <a id="372" class="Symbol">:</a> <a id="374" href="Nominal.Swap.Example.html#343" class="Datatype">λTerm</a> <a id="380" class="Symbol">→</a> <a id="382" href="Nominal.Swap.Example.html#343" class="Datatype">λTerm</a> <a id="388" class="Symbol">→</a> <a id="390" href="Nominal.Swap.Example.html#343" class="Datatype">λTerm</a>
  <a id="λTerm.VAR"></a><a id="398" href="Nominal.Swap.Example.html#398" class="InductiveConstructor">VAR</a> <a id="402" class="Symbol">:</a> <a id="404" href="Nominal.Swap.Example.html#190" class="Datatype">Atom</a> <a id="409" class="Symbol">→</a> <a id="411" href="Nominal.Swap.Example.html#343" class="Datatype">λTerm</a>
<a id="417" class="Comment">-- {-# TERMINATING #-}</a>
<a id="440" class="Comment">-- unquoteDecl λTerm↔ = DERIVE Swap [ quote λTerm , λTerm↔ ]</a>
<a id="501" class="Keyword">instance</a>
  <a id="λTerm↔"></a><a id="512" href="Nominal.Swap.Example.html#512" class="Function">λTerm↔</a> <a id="519" class="Symbol">:</a> <a id="521" href="Nominal.Swap.Base.html#401" class="Record">Swap</a> <a id="526" href="Nominal.Swap.Example.html#343" class="Datatype">λTerm</a>
  <a id="534" href="Nominal.Swap.Example.html#512" class="Function">λTerm↔</a> <a id="541" class="Symbol">.</a><a id="542" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="547" class="Symbol">=</a> <a id="549" class="Symbol">λ</a> <a id="551" href="Nominal.Swap.Example.html#551" class="Bound">𝕒</a> <a id="553" href="Nominal.Swap.Example.html#553" class="Bound">𝕓</a> <a id="555" class="Symbol">→</a> <a id="557" class="Symbol">λ</a> <a id="559" class="Keyword">where</a>
    <a id="569" class="Symbol">(</a><a id="570" href="Nominal.Swap.Example.html#570" class="Bound">l</a> <a id="572" href="Nominal.Swap.Example.html#364" class="InductiveConstructor Operator">-APP-</a> <a id="578" href="Nominal.Swap.Example.html#578" class="Bound">r</a><a id="579" class="Symbol">)</a> <a id="581" class="Symbol">→</a> <a id="583" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="588" href="Nominal.Swap.Example.html#551" class="Bound">𝕒</a> <a id="590" href="Nominal.Swap.Example.html#553" class="Bound">𝕓</a> <a id="592" href="Nominal.Swap.Example.html#570" class="Bound">l</a> <a id="594" href="Nominal.Swap.Example.html#364" class="InductiveConstructor Operator">-APP-</a> <a id="600" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="605" href="Nominal.Swap.Example.html#551" class="Bound">𝕒</a> <a id="607" href="Nominal.Swap.Example.html#553" class="Bound">𝕓</a> <a id="609" href="Nominal.Swap.Example.html#578" class="Bound">r</a>
    <a id="615" class="Symbol">(</a><a id="616" href="Nominal.Swap.Example.html#398" class="InductiveConstructor">VAR</a> <a id="620" href="Nominal.Swap.Example.html#620" class="Bound">x</a><a id="621" class="Symbol">)</a>     <a id="627" class="Symbol">→</a> <a id="629" href="Nominal.Swap.Example.html#398" class="InductiveConstructor">VAR</a> <a id="633" class="Symbol">(</a><a id="634" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="639" href="Nominal.Swap.Example.html#551" class="Bound">𝕒</a> <a id="641" href="Nominal.Swap.Example.html#553" class="Bound">𝕓</a> <a id="643" href="Nominal.Swap.Example.html#620" class="Bound">x</a><a id="644" class="Symbol">)</a>

<a id="647" class="Comment">-- ** example swapping in a λ-term</a>
<a id="682" href="Nominal.Swap.Example.html#682" class="Function">_</a> <a id="684" class="Symbol">=</a> <a id="686" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="691" href="Nominal.Swap.Example.html#320" class="Function">𝕒</a> <a id="693" href="Nominal.Swap.Example.html#329" class="Function">𝕓</a> <a id="695" class="Symbol">(</a><a id="696" href="Nominal.Swap.Example.html#398" class="InductiveConstructor">VAR</a> <a id="700" href="Nominal.Swap.Example.html#320" class="Function">𝕒</a> <a id="702" href="Nominal.Swap.Example.html#364" class="InductiveConstructor Operator">-APP-</a> <a id="708" href="Nominal.Swap.Example.html#398" class="InductiveConstructor">VAR</a> <a id="712" href="Nominal.Swap.Example.html#329" class="Function">𝕓</a><a id="713" class="Symbol">)</a> <a id="715" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="717" href="Nominal.Swap.Example.html#398" class="InductiveConstructor">VAR</a> <a id="721" href="Nominal.Swap.Example.html#329" class="Function">𝕓</a> <a id="723" href="Nominal.Swap.Example.html#364" class="InductiveConstructor Operator">-APP-</a> <a id="729" href="Nominal.Swap.Example.html#398" class="InductiveConstructor">VAR</a> <a id="733" href="Nominal.Swap.Example.html#320" class="Function">𝕒</a>
  <a id="737" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="739" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="745" class="Comment">-- ** derive and check ad-hoc example datatypes</a>
<a id="793" class="Keyword">record</a> <a id="TESTR"></a><a id="800" href="Nominal.Swap.Example.html#800" class="Record">TESTR</a> <a id="806" class="Symbol">:</a> <a id="808" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="813" class="Keyword">where</a>
  <a id="821" class="Keyword">field</a> <a id="TESTR.atom"></a><a id="827" href="Nominal.Swap.Example.html#827" class="Field">atom</a> <a id="832" class="Symbol">:</a> <a id="834" href="Nominal.Swap.Example.html#190" class="Datatype">Atom</a>
<a id="839" class="Keyword">open</a> <a id="844" href="Nominal.Swap.Example.html#800" class="Module">TESTR</a>

<a id="851" class="Comment">-- [T0D0] derive outside module</a>
<a id="883" class="Comment">-- unquoteDecl TESTR↔ = DERIVE Swap [ quote TESTR , TESTR↔ ]</a>
<a id="944" class="Keyword">instance</a>
  <a id="TESTR↔"></a><a id="955" href="Nominal.Swap.Example.html#955" class="Function">TESTR↔</a> <a id="962" class="Symbol">:</a> <a id="964" href="Nominal.Swap.Base.html#401" class="Record">Swap</a> <a id="969" href="Nominal.Swap.Example.html#800" class="Record">TESTR</a>
  <a id="977" href="Nominal.Swap.Example.html#955" class="Function">TESTR↔</a> <a id="984" class="Symbol">.</a><a id="985" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="990" href="Nominal.Swap.Example.html#990" class="Bound">𝕒</a> <a id="992" href="Nominal.Swap.Example.html#992" class="Bound">𝕓</a> <a id="994" class="Symbol">(</a><a id="995" class="Keyword">record</a> <a id="1002" class="Symbol">{</a><a id="1003" href="Nominal.Swap.Example.html#827" class="Field">atom</a> <a id="1008" class="Symbol">=</a> <a id="1010" href="Nominal.Swap.Example.html#1010" class="Bound">x</a><a id="1011" class="Symbol">})</a> <a id="1014" class="Symbol">=</a> <a id="1016" class="Keyword">record</a> <a id="1023" class="Symbol">{</a><a id="1024" href="Nominal.Swap.Example.html#827" class="Field">atom</a> <a id="1029" class="Symbol">=</a> <a id="1031" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="1036" href="Nominal.Swap.Example.html#990" class="Bound">𝕒</a> <a id="1038" href="Nominal.Swap.Example.html#992" class="Bound">𝕓</a> <a id="1040" href="Nominal.Swap.Example.html#1010" class="Bound">x</a><a id="1041" class="Symbol">}</a>

<a id="1044" href="Nominal.Swap.Example.html#1044" class="Function">_</a> <a id="1046" class="Symbol">=</a> <a id="1048" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="1053" href="Nominal.Swap.Example.html#320" class="Function">𝕒</a> <a id="1055" href="Nominal.Swap.Example.html#329" class="Function">𝕓</a> <a id="1057" class="Symbol">(</a><a id="1058" class="Keyword">record</a> <a id="1065" class="Symbol">{</a><a id="1066" href="Nominal.Swap.Example.html#827" class="Field">atom</a> <a id="1071" class="Symbol">=</a> <a id="1073" href="Nominal.Swap.Example.html#320" class="Function">𝕒</a><a id="1074" class="Symbol">})</a> <a id="1077" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1079" class="Keyword">record</a> <a id="1086" class="Symbol">{</a><a id="1087" href="Nominal.Swap.Example.html#827" class="Field">atom</a> <a id="1092" class="Symbol">=</a> <a id="1094" href="Nominal.Swap.Example.html#329" class="Function">𝕓</a><a id="1095" class="Symbol">}</a> <a id="1097" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1099" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="1105" class="Keyword">data</a> <a id="TEST"></a><a id="1110" href="Nominal.Swap.Example.html#1110" class="Datatype">TEST</a> <a id="1115" class="Symbol">:</a> <a id="1117" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1122" class="Keyword">where</a>
  <a id="TEST.ATOM"></a><a id="1130" href="Nominal.Swap.Example.html#1130" class="InductiveConstructor">ATOM</a> <a id="1135" class="Symbol">:</a> <a id="1137" href="Nominal.Swap.Example.html#190" class="Datatype">Atom</a> <a id="1142" class="Symbol">→</a> <a id="1144" href="Nominal.Swap.Example.html#1110" class="Datatype">TEST</a>
<a id="1149" class="Comment">-- unquoteDecl TEST↔ = DERIVE Swap [ quote TEST , TEST↔ ]</a>
<a id="1207" class="Keyword">instance</a>
  <a id="TEST↔"></a><a id="1218" href="Nominal.Swap.Example.html#1218" class="Function">TEST↔</a> <a id="1224" class="Symbol">:</a> <a id="1226" href="Nominal.Swap.Base.html#401" class="Record">Swap</a> <a id="1231" href="Nominal.Swap.Example.html#1110" class="Datatype">TEST</a>
  <a id="1238" href="Nominal.Swap.Example.html#1218" class="Function">TEST↔</a> <a id="1244" class="Symbol">.</a><a id="1245" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="1250" href="Nominal.Swap.Example.html#1250" class="Bound">𝕒</a> <a id="1252" href="Nominal.Swap.Example.html#1252" class="Bound">𝕓</a> <a id="1254" class="Symbol">(</a><a id="1255" href="Nominal.Swap.Example.html#1130" class="InductiveConstructor">ATOM</a> <a id="1260" href="Nominal.Swap.Example.html#1260" class="Bound">x</a><a id="1261" class="Symbol">)</a> <a id="1263" class="Symbol">=</a> <a id="1265" href="Nominal.Swap.Example.html#1130" class="InductiveConstructor">ATOM</a> <a id="1270" class="Symbol">(</a><a id="1271" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="1276" href="Nominal.Swap.Example.html#1250" class="Bound">𝕒</a> <a id="1278" href="Nominal.Swap.Example.html#1252" class="Bound">𝕓</a> <a id="1280" href="Nominal.Swap.Example.html#1260" class="Bound">x</a><a id="1281" class="Symbol">)</a>

<a id="1284" href="Nominal.Swap.Example.html#1284" class="Function">_</a> <a id="1286" class="Symbol">=</a> <a id="1288" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="1293" href="Nominal.Swap.Example.html#320" class="Function">𝕒</a> <a id="1295" href="Nominal.Swap.Example.html#329" class="Function">𝕓</a> <a id="1297" class="Symbol">(</a><a id="1298" href="Nominal.Swap.Example.html#1130" class="InductiveConstructor">ATOM</a> <a id="1303" href="Nominal.Swap.Example.html#320" class="Function">𝕒</a><a id="1304" class="Symbol">)</a> <a id="1306" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1308" href="Nominal.Swap.Example.html#1130" class="InductiveConstructor">ATOM</a> <a id="1313" href="Nominal.Swap.Example.html#329" class="Function">𝕓</a>
  <a id="1317" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1319" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre></body></html>