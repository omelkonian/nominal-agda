<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Prelude.InfEnumerable</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Enumerable types with an (infinite) stream witness.</a>
<a id="129" class="Comment">------------------------------------------------------------------------</a>

<a id="203" class="Comment">-- {-# OPTIONS --sized-types #-}</a>
<a id="236" class="Keyword">module</a> <a id="243" href="Prelude.InfEnumerable.html" class="Module">Prelude.InfEnumerable</a> <a id="265" class="Keyword">where</a>

<a id="272" class="Keyword">open</a> <a id="277" class="Keyword">import</a> <a id="284" href="Prelude.Init.html" class="Module">Prelude.Init</a>
<a id="297" class="Keyword">open</a> <a id="302" href="Prelude.Init.html#6387" class="Module">L.Mem</a>
<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="Prelude.Nary.html" class="Module">Prelude.Nary</a>
<a id="333" class="Keyword">open</a> <a id="338" class="Keyword">import</a> <a id="345" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>
<a id="359" class="Keyword">open</a> <a id="364" class="Keyword">import</a> <a id="371" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="389" class="Keyword">open</a> <a id="394" class="Keyword">import</a> <a id="401" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="415" class="Keyword">open</a> <a id="420" class="Keyword">import</a> <a id="427" href="Prelude.ToN.html" class="Module">Prelude.ToN</a>
<a id="439" class="Keyword">open</a> <a id="444" class="Keyword">import</a> <a id="451" href="Prelude.FromN.html" class="Module">Prelude.FromN</a>
<a id="465" class="Keyword">open</a> <a id="470" class="Keyword">import</a> <a id="477" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>

<a id="490" class="Comment">-- Enumerable∞ A = A ↔ ℕ</a>
<a id="515" class="Keyword">record</a> <a id="Enumerable∞"></a><a id="522" href="Prelude.InfEnumerable.html#522" class="Record">Enumerable∞</a> <a id="534" class="Symbol">(</a><a id="535" href="Prelude.InfEnumerable.html#535" class="Bound">A</a> <a id="537" class="Symbol">:</a> <a id="539" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="543" href="Prelude.Init.html#330" class="Generalizable">ℓ</a><a id="544" class="Symbol">)</a> <a id="546" class="Symbol">:</a> <a id="548" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="552" href="Prelude.InfEnumerable.html#543" class="Bound">ℓ</a> <a id="554" class="Keyword">where</a>
  <a id="562" class="Keyword">field</a> <a id="Enumerable∞.enum"></a><a id="568" href="Prelude.InfEnumerable.html#568" class="Field">enum</a> <a id="573" class="Symbol">:</a> <a id="575" href="Prelude.InfEnumerable.html#535" class="Bound">A</a> <a id="577" href="Function.Bundles.html#8810" class="Function Operator">Fun.↔</a> <a id="583" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="585" class="Keyword">open</a> <a id="590" href="Prelude.InfEnumerable.html#522" class="Module">Enumerable∞</a> <a id="602" class="Symbol">⦃...⦄</a> <a id="608" class="Keyword">public</a>

<a id="616" class="Keyword">private</a> <a id="624" class="Keyword">variable</a> <a id="633" href="Prelude.InfEnumerable.html#633" class="Generalizable">A</a> <a id="635" class="Symbol">:</a> <a id="637" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="641" href="Prelude.Init.html#330" class="Generalizable">ℓ</a>

<a id="644" class="Keyword">instance</a>
  <a id="Enumerable∞-ℕ"></a><a id="655" href="Prelude.InfEnumerable.html#655" class="Function">Enumerable∞-ℕ</a> <a id="669" class="Symbol">:</a> <a id="671" href="Prelude.InfEnumerable.html#522" class="Record">Enumerable∞</a> <a id="683" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="687" href="Prelude.InfEnumerable.html#655" class="Function">Enumerable∞-ℕ</a> <a id="701" class="Symbol">.</a><a id="702" href="Prelude.InfEnumerable.html#568" class="Field">enum</a> <a id="707" class="Symbol">=</a> <a id="709" class="Keyword">record</a>
    <a id="720" class="Symbol">{</a> <a id="722" href="Function.Bundles.html#5846" class="Field">f</a> <a id="724" class="Symbol">=</a> <a id="726" href="Function.Base.html#615" class="Function">id</a> <a id="729" class="Symbol">;</a> <a id="731" href="Function.Bundles.html#5870" class="Field">f⁻¹</a> <a id="735" class="Symbol">=</a> <a id="737" href="Function.Base.html#615" class="Function">id</a>
    <a id="744" class="Symbol">;</a> <a id="746" href="Function.Bundles.html#5894" class="Field">cong₁</a> <a id="752" class="Symbol">=</a> <a id="754" class="Symbol">λ{</a> <a id="757" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="762" class="Symbol">→</a> <a id="764" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="769" class="Symbol">}</a> <a id="771" class="Symbol">;</a> <a id="773" href="Function.Bundles.html#5936" class="Field">cong₂</a> <a id="779" class="Symbol">=</a> <a id="781" class="Symbol">λ{</a> <a id="784" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="789" class="Symbol">→</a> <a id="791" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="796" class="Symbol">}</a>
    <a id="802" class="Symbol">;</a> <a id="804" href="Function.Bundles.html#5980" class="Field">inverse</a> <a id="812" class="Symbol">=</a> <a id="814" class="Symbol">(λ</a> <a id="817" href="Prelude.InfEnumerable.html#817" class="Bound">_</a> <a id="819" class="Symbol">→</a> <a id="821" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="825" class="Symbol">)</a> <a id="827" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="829" class="Symbol">(λ</a> <a id="832" href="Prelude.InfEnumerable.html#832" class="Bound">_</a> <a id="834" class="Symbol">→</a> <a id="836" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="840" class="Symbol">)</a> <a id="842" class="Symbol">}</a>

  <a id="Enumerable∞⇒ToN"></a><a id="847" href="Prelude.InfEnumerable.html#847" class="Function">Enumerable∞⇒ToN</a> <a id="863" class="Symbol">:</a> <a id="865" class="Symbol">⦃</a> <a id="867" href="Prelude.InfEnumerable.html#522" class="Record">Enumerable∞</a> <a id="879" href="Prelude.InfEnumerable.html#633" class="Generalizable">A</a> <a id="881" class="Symbol">⦄</a> <a id="883" class="Symbol">→</a> <a id="885" href="Prelude.ToN.html#60" class="Record">Toℕ</a> <a id="889" href="Prelude.InfEnumerable.html#633" class="Generalizable">A</a>
  <a id="893" href="Prelude.InfEnumerable.html#847" class="Function">Enumerable∞⇒ToN</a> <a id="909" class="Symbol">.</a><a id="910" href="Prelude.ToN.html#102" class="Field">toℕ</a> <a id="914" class="Symbol">=</a> <a id="916" href="Prelude.InfEnumerable.html#568" class="Field">enum</a> <a id="921" class="Symbol">.</a><a id="922" href="Function.Bundles.html#5846" class="Field">Fun.Inverse.f</a>

  <a id="Enumerable∞⇒FromN"></a><a id="939" href="Prelude.InfEnumerable.html#939" class="Function">Enumerable∞⇒FromN</a> <a id="957" class="Symbol">:</a> <a id="959" class="Symbol">⦃</a> <a id="961" href="Prelude.InfEnumerable.html#522" class="Record">Enumerable∞</a> <a id="973" href="Prelude.InfEnumerable.html#633" class="Generalizable">A</a> <a id="975" class="Symbol">⦄</a> <a id="977" class="Symbol">→</a> <a id="979" href="Prelude.FromN.html#62" class="Record">Fromℕ</a> <a id="985" href="Prelude.InfEnumerable.html#633" class="Generalizable">A</a>
  <a id="989" href="Prelude.InfEnumerable.html#939" class="Function">Enumerable∞⇒FromN</a> <a id="1007" class="Symbol">.</a><a id="1008" href="Prelude.FromN.html#102" class="Field">fromℕ</a> <a id="1014" class="Symbol">=</a> <a id="1016" href="Prelude.InfEnumerable.html#568" class="Field">enum</a> <a id="1021" class="Symbol">.</a><a id="1022" href="Function.Bundles.html#5870" class="Field">Fun.Inverse.f⁻¹</a>

<a id="freshℕ"></a><a id="1039" href="Prelude.InfEnumerable.html#1039" class="Function">freshℕ</a> <a id="1046" class="Symbol">:</a> <a id="1048" class="Symbol">(</a><a id="1049" href="Prelude.InfEnumerable.html#1049" class="Bound">xs</a> <a id="1052" class="Symbol">:</a> <a id="1054" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1059" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1060" class="Symbol">)</a> <a id="1062" class="Symbol">→</a> <a id="1064" href="Data.Product.html#1369" class="Function">∃</a> <a id="1066" class="Symbol">(</a><a id="1067" href="Data.List.Membership.Setoid.html#936" class="Function Operator">_∉</a> <a id="1070" href="Prelude.InfEnumerable.html#1049" class="Bound">xs</a><a id="1072" class="Symbol">)</a>
<a id="1074" href="Prelude.InfEnumerable.html#1039" class="Function">freshℕ</a> <a id="1081" href="Prelude.InfEnumerable.html#1081" class="Bound">xs</a> <a id="1084" class="Symbol">=</a> <a id="1086" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1090" class="Symbol">(</a><a id="1091" href="Prelude.Lists.Sums.html#271" class="Function">∑ℕ</a> <a id="1094" href="Prelude.InfEnumerable.html#1081" class="Bound">xs</a><a id="1096" class="Symbol">)</a> <a id="1098" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1100" class="Symbol">λ</a> <a id="1102" href="Prelude.InfEnumerable.html#1102" class="Bound">x∈</a> <a id="1105" class="Symbol">→</a> <a id="1107" href="Prelude.InfEnumerable.html#1137" class="Function">¬suc≰</a> <a id="1113" class="Symbol">_</a> <a id="1115" class="Symbol">(</a><a id="1116" href="Prelude.Lists.Sums.html#1173" class="Postulate">x∈∑ℕ</a> <a id="1121" href="Prelude.InfEnumerable.html#1102" class="Bound">x∈</a><a id="1123" class="Symbol">)</a>
  <a id="1127" class="Keyword">where</a>
    <a id="1137" href="Prelude.InfEnumerable.html#1137" class="Function">¬suc≰</a> <a id="1143" class="Symbol">:</a> <a id="1145" class="Symbol">∀</a> <a id="1147" href="Prelude.InfEnumerable.html#1147" class="Bound">n</a> <a id="1149" class="Symbol">→</a> <a id="1151" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1155" href="Prelude.InfEnumerable.html#1147" class="Bound">n</a> <a id="1157" href="Prelude.Ord.html#233" class="Function Operator">≰</a> <a id="1159" href="Prelude.InfEnumerable.html#1147" class="Bound">n</a>
    <a id="1165" href="Prelude.InfEnumerable.html#1137" class="Function">¬suc≰</a> <a id="1171" class="Symbol">(</a><a id="1172" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1176" href="Prelude.InfEnumerable.html#1176" class="Bound">n</a><a id="1177" class="Symbol">)</a> <a id="1179" class="Symbol">(</a><a id="1180" href="Data.Nat.Base.html#1600" class="InductiveConstructor">s≤s</a> <a id="1184" href="Prelude.InfEnumerable.html#1184" class="Bound">p</a><a id="1185" class="Symbol">)</a> <a id="1187" class="Symbol">=</a> <a id="1189" href="Prelude.InfEnumerable.html#1137" class="Function">¬suc≰</a> <a id="1195" href="Prelude.InfEnumerable.html#1176" class="Bound">n</a> <a id="1197" href="Prelude.InfEnumerable.html#1184" class="Bound">p</a>

<a id="fromℕ∈⇒∈toℕ"></a><a id="1200" href="Prelude.InfEnumerable.html#1200" class="Function">fromℕ∈⇒∈toℕ</a> <a id="1212" class="Symbol">:</a> <a id="1214" class="Symbol">∀</a> <a id="1216" class="Symbol">⦃</a> <a id="1218" href="Prelude.InfEnumerable.html#1218" class="Bound">_</a> <a id="1220" class="Symbol">:</a> <a id="1222" href="Prelude.InfEnumerable.html#522" class="Record">Enumerable∞</a> <a id="1234" href="Prelude.InfEnumerable.html#633" class="Generalizable">A</a> <a id="1236" class="Symbol">⦄</a> <a id="1238" href="Prelude.InfEnumerable.html#1238" class="Bound">n</a> <a id="1240" class="Symbol">(</a><a id="1241" href="Prelude.InfEnumerable.html#1241" class="Bound">xs</a> <a id="1244" class="Symbol">:</a> <a id="1246" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1251" href="Prelude.InfEnumerable.html#633" class="Generalizable">A</a><a id="1252" class="Symbol">)</a> <a id="1254" class="Symbol">→</a> <a id="1256" href="Prelude.FromN.html#102" class="Field">fromℕ</a> <a id="1262" href="Prelude.InfEnumerable.html#1238" class="Bound">n</a> <a id="1264" href="Data.List.Membership.Setoid.html#887" class="Function Operator">∈</a> <a id="1266" href="Prelude.InfEnumerable.html#1241" class="Bound">xs</a> <a id="1269" class="Symbol">→</a> <a id="1271" href="Prelude.InfEnumerable.html#1238" class="Bound">n</a> <a id="1273" href="Data.List.Membership.Setoid.html#887" class="Function Operator">∈</a> <a id="1275" href="Data.List.Base.html#1544" class="Function">map</a> <a id="1279" href="Prelude.ToN.html#102" class="Field">toℕ</a> <a id="1283" href="Prelude.InfEnumerable.html#1241" class="Bound">xs</a>
<a id="1286" href="Prelude.InfEnumerable.html#1200" class="Function">fromℕ∈⇒∈toℕ</a> <a id="1298" href="Prelude.InfEnumerable.html#1298" class="Bound">n</a> <a id="1300" href="Prelude.InfEnumerable.html#1300" class="Bound">xs</a> <a id="1303" href="Prelude.InfEnumerable.html#1303" class="Bound">x∈</a> <a id="1306" class="Symbol">=</a>
  <a id="1310" href="Relation.Binary.PropositionalEquality.Core.html#1780" class="Function">subst</a> <a id="1316" class="Symbol">(</a><a id="1317" href="Data.List.Membership.Setoid.html#887" class="Function Operator">_∈</a> <a id="1320" href="Data.List.Base.html#1544" class="Function">map</a> <a id="1324" href="Prelude.ToN.html#102" class="Field">toℕ</a> <a id="1328" href="Prelude.InfEnumerable.html#1300" class="Bound">xs</a><a id="1330" class="Symbol">)</a> <a id="1332" class="Symbol">(</a><a id="1333" href="Prelude.InfEnumerable.html#568" class="Field">enum</a> <a id="1338" class="Symbol">.</a><a id="1339" href="Function.Bundles.html#5980" class="Field">Fun.Inverse.inverse</a> <a id="1359" class="Symbol">.</a><a id="1360" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="1366" href="Prelude.InfEnumerable.html#1298" class="Bound">n</a><a id="1367" class="Symbol">)</a> <a id="1369" href="Function.Base.html#1919" class="Function Operator">$</a>
  <a id="1373" href="Data.List.Membership.Propositional.Properties.html#3368" class="Function">L.Mem.∈-map⁺</a> <a id="1386" href="Prelude.ToN.html#102" class="Field">toℕ</a> <a id="1390" class="Symbol">{</a><a id="1391" class="Argument">x</a> <a id="1393" class="Symbol">=</a> <a id="1395" href="Prelude.FromN.html#102" class="Field">fromℕ</a> <a id="1401" href="Prelude.InfEnumerable.html#1298" class="Bound">n</a><a id="1402" class="Symbol">}</a> <a id="1404" class="Symbol">{</a><a id="1405" class="Argument">xs</a> <a id="1408" class="Symbol">=</a> <a id="1410" href="Prelude.InfEnumerable.html#1300" class="Bound">xs</a><a id="1412" class="Symbol">}</a> <a id="1414" href="Prelude.InfEnumerable.html#1303" class="Bound">x∈</a>

<a id="fresh"></a><a id="1418" href="Prelude.InfEnumerable.html#1418" class="Function">fresh</a> <a id="1424" class="Symbol">:</a> <a id="1426" class="Symbol">⦃</a> <a id="1428" href="Prelude.InfEnumerable.html#522" class="Record">Enumerable∞</a> <a id="1440" href="Prelude.InfEnumerable.html#633" class="Generalizable">A</a> <a id="1442" class="Symbol">⦄</a> <a id="1444" class="Symbol">→</a> <a id="1446" class="Symbol">(</a><a id="1447" href="Prelude.InfEnumerable.html#1447" class="Bound">xs</a> <a id="1450" class="Symbol">:</a> <a id="1452" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1457" href="Prelude.InfEnumerable.html#633" class="Generalizable">A</a><a id="1458" class="Symbol">)</a> <a id="1460" class="Symbol">→</a> <a id="1462" href="Data.Product.html#1369" class="Function">∃</a> <a id="1464" class="Symbol">(</a><a id="1465" href="Data.List.Membership.Setoid.html#936" class="Function Operator">_∉</a> <a id="1468" href="Prelude.InfEnumerable.html#1447" class="Bound">xs</a><a id="1470" class="Symbol">)</a>
<a id="1472" href="Prelude.InfEnumerable.html#1418" class="Function">fresh</a> <a id="1478" href="Prelude.InfEnumerable.html#1478" class="Bound">xs</a> <a id="1481" class="Symbol">=</a>
  <a id="1485" class="Keyword">let</a> <a id="1489" href="Prelude.InfEnumerable.html#1489" class="Bound">n</a> <a id="1491" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1493" href="Prelude.InfEnumerable.html#1493" class="Bound">n∉</a> <a id="1496" class="Symbol">=</a> <a id="1498" href="Prelude.InfEnumerable.html#1039" class="Function">freshℕ</a> <a id="1505" class="Symbol">(</a><a id="1506" href="Data.List.Base.html#1544" class="Function">map</a> <a id="1510" href="Prelude.ToN.html#102" class="Field">toℕ</a> <a id="1514" href="Prelude.InfEnumerable.html#1478" class="Bound">xs</a><a id="1516" class="Symbol">)</a>
  <a id="1520" class="Keyword">in</a>  <a id="1524" href="Prelude.FromN.html#102" class="Field">fromℕ</a> <a id="1530" href="Prelude.InfEnumerable.html#1489" class="Bound">n</a> <a id="1532" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1534" href="Prelude.InfEnumerable.html#1493" class="Bound">n∉</a> <a id="1537" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1539" href="Prelude.InfEnumerable.html#1200" class="Function">fromℕ∈⇒∈toℕ</a> <a id="1551" class="Symbol">_</a> <a id="1553" class="Symbol">_</a>

<a id="1556" class="Comment">-- record Enumerable∞ (A : Set ℓ) : Set ℓ where</a>
<a id="1604" class="Comment">--   field witness  : Stream A ∞</a>
<a id="1637" class="Comment">--         infinite : ∀ x → x ∈ˢ witness</a>
<a id="1678" class="Comment">-- open Enumerable∞ ⦃...⦄ public</a>

<a id="1712" class="Comment">-- instance</a>
<a id="1724" class="Comment">--   Enumerable∞-ℕ : Enumerable∞ ℕ</a>
<a id="1759" class="Comment">--   Enumerable∞-ℕ .witness = iterate suc 0</a>
</pre></body></html>