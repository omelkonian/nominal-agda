<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Nominal.Support</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/nominal-agda/tree/master/Nominal/Support.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Prelude.Init.html" class="Module">Prelude.Init</a>
<a id="26" class="Keyword">open</a> <a id="31" href="Prelude.Init.html#35" class="Module">SetAsType</a>
<a id="41" class="Keyword">open</a> <a id="46" href="Prelude.Init.html#6387" class="Module">L.Mem</a>
<a id="52" class="Keyword">open</a> <a id="57" class="Keyword">import</a> <a id="64" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="78" class="Keyword">open</a> <a id="83" class="Keyword">import</a> <a id="90" href="Prelude.Setoid.html" class="Module">Prelude.Setoid</a>
<a id="105" class="Keyword">open</a> <a id="110" class="Keyword">import</a> <a id="117" href="Prelude.InfEnumerable.html" class="Module">Prelude.InfEnumerable</a>
<a id="139" class="Keyword">open</a> <a id="144" class="Keyword">import</a> <a id="151" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>

<a id="175" class="Keyword">module</a> <a id="182" href="Nominal.Support.html" class="Module">Nominal.Support</a> <a id="198" class="Symbol">(</a><a id="199" href="Nominal.Support.html#199" class="Bound">Atom</a> <a id="204" class="Symbol">:</a> <a id="206" href="Agda.Primitive.html#326" class="Primitive">Type</a><a id="210" class="Symbol">)</a> <a id="212" class="Symbol">⦃</a> <a id="214" href="Nominal.Support.html#214" class="Bound">_</a> <a id="216" class="Symbol">:</a> <a id="218" href="Prelude.DecEq.Core.html#97" class="Record">DecEq</a> <a id="224" href="Nominal.Support.html#199" class="Bound">Atom</a> <a id="229" class="Symbol">⦄</a> <a id="231" class="Symbol">⦃</a> <a id="233" href="Nominal.Support.html#233" class="Bound">_</a> <a id="235" class="Symbol">:</a> <a id="237" href="Prelude.InfEnumerable.html#515" class="Record">Enumerable∞</a> <a id="249" href="Nominal.Support.html#199" class="Bound">Atom</a> <a id="254" class="Symbol">⦄</a> <a id="256" class="Keyword">where</a>

<a id="263" class="Keyword">open</a> <a id="268" class="Keyword">import</a> <a id="275" href="Nominal.Swap.html" class="Module">Nominal.Swap</a> <a id="288" href="Nominal.Support.html#199" class="Bound">Atom</a>
<a id="293" class="Keyword">open</a> <a id="298" class="Keyword">import</a> <a id="305" href="Nominal.Fun.html" class="Module">Nominal.Fun</a>  <a id="318" href="Nominal.Support.html#199" class="Bound">Atom</a>
<a id="323" class="Keyword">open</a> <a id="328" class="Keyword">import</a> <a id="335" href="Nominal.Abs.html" class="Module">Nominal.Abs</a>  <a id="348" href="Nominal.Support.html#199" class="Bound">Atom</a>

<a id="354" class="Keyword">private</a> <a id="362" class="Keyword">variable</a> <a id="371" href="Nominal.Support.html#371" class="Generalizable">A</a> <a id="373" class="Symbol">:</a> <a id="375" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="380" href="Prelude.Init.html#330" class="Generalizable">ℓ</a>

<a id="383" class="Keyword">module</a> <a id="390" href="Nominal.Support.html#390" class="Module">_</a> <a id="392" class="Symbol">⦃</a> <a id="394" href="Nominal.Support.html#394" class="Bound">_</a> <a id="396" class="Symbol">:</a> <a id="398" href="Nominal.Swap.Base.html#389" class="Record">Swap</a> <a id="403" href="Nominal.Support.html#371" class="Generalizable">A</a> <a id="405" class="Symbol">⦄</a> <a id="407" class="Symbol">⦃</a> <a id="409" href="Nominal.Support.html#409" class="Bound">_</a> <a id="411" class="Symbol">:</a> <a id="413" href="Prelude.Setoid.html#128" class="Record">ISetoid</a> <a id="421" href="Nominal.Support.html#371" class="Generalizable">A</a> <a id="423" class="Symbol">⦄</a> <a id="425" class="Keyword">where</a>

  <a id="434" class="Keyword">infix</a> <a id="440" class="Number">4</a> <a id="442" href="Nominal.Support.html#448" class="Function Operator">_♯_</a>
  <a id="448" href="Nominal.Support.html#448" class="Function Operator">_♯_</a> <a id="452" class="Symbol">:</a> <a id="454" href="Nominal.Support.html#199" class="Bound">Atom</a> <a id="459" class="Symbol">→</a> <a id="461" href="Nominal.Support.html#403" class="Bound">A</a> <a id="463" class="Symbol">→</a> <a id="465" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="470" class="Symbol">_</a>
  <a id="474" href="Nominal.Support.html#474" class="Bound">𝕒</a> <a id="476" href="Nominal.Support.html#448" class="Function Operator">♯</a> <a id="478" href="Nominal.Support.html#478" class="Bound">x</a> <a id="480" class="Symbol">=</a> <a id="482" href="Nominal.Abs.Base.html#458" class="Function">И</a> <a id="484" class="Symbol">λ</a> <a id="486" href="Nominal.Support.html#486" class="Bound">𝕓</a> <a id="488" class="Symbol">→</a> <a id="490" href="Nominal.Swap.Base.html#430" class="Field">swap</a> <a id="495" href="Nominal.Support.html#486" class="Bound">𝕓</a> <a id="497" href="Nominal.Support.html#474" class="Bound">𝕒</a> <a id="499" href="Nominal.Support.html#478" class="Bound">x</a> <a id="501" href="Prelude.Setoid.html#210" class="Field Operator">≈</a> <a id="503" href="Nominal.Support.html#478" class="Bound">x</a>

  <a id="508" href="Nominal.Support.html#508" class="Function">FinSupp</a> <a id="516" class="Symbol">:</a> <a id="518" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="523" href="Nominal.Support.html#403" class="Bound">A</a> <a id="525" class="Symbol">_</a>
  <a id="529" href="Nominal.Support.html#508" class="Function">FinSupp</a> <a id="537" href="Nominal.Support.html#537" class="Bound">x</a> <a id="539" class="Symbol">=</a> <a id="541" href="Nominal.Abs.Base.html#752" class="Function">И²</a> <a id="544" class="Symbol">λ</a> <a id="546" href="Nominal.Support.html#546" class="Bound">𝕒</a> <a id="548" href="Nominal.Support.html#548" class="Bound">𝕓</a> <a id="550" class="Symbol">→</a> <a id="552" href="Nominal.Swap.Base.html#430" class="Field">swap</a> <a id="557" href="Nominal.Support.html#548" class="Bound">𝕓</a> <a id="559" href="Nominal.Support.html#546" class="Bound">𝕒</a> <a id="561" href="Nominal.Support.html#537" class="Bound">x</a> <a id="563" href="Prelude.Setoid.html#210" class="Field Operator">≈</a> <a id="565" href="Nominal.Support.html#537" class="Bound">x</a>

  <a id="570" href="Nominal.Support.html#570" class="Function">MinSupp</a> <a id="578" class="Symbol">:</a> <a id="580" class="Symbol">∀</a> <a id="582" class="Symbol">{</a><a id="583" href="Nominal.Support.html#583" class="Bound">a</a> <a id="585" class="Symbol">:</a> <a id="587" href="Nominal.Support.html#403" class="Bound">A</a><a id="588" class="Symbol">}</a> <a id="590" class="Symbol">→</a> <a id="592" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="597" class="Symbol">(</a><a id="598" href="Nominal.Support.html#508" class="Function">FinSupp</a> <a id="606" href="Nominal.Support.html#583" class="Bound">a</a><a id="607" class="Symbol">)</a> <a id="609" class="Symbol">_</a>
  <a id="613" href="Nominal.Support.html#570" class="Function">MinSupp</a> <a id="621" class="Symbol">{</a><a id="622" class="Argument">a</a> <a id="624" class="Symbol">=</a> <a id="626" href="Nominal.Support.html#626" class="Bound">a</a><a id="627" class="Symbol">}</a> <a id="629" class="Symbol">(</a><a id="630" href="Nominal.Support.html#630" class="Bound">xs</a> <a id="633" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="635" href="Nominal.Support.html#635" class="Bound">∀x∉</a><a id="638" class="Symbol">)</a> <a id="640" class="Symbol">=</a>
    <a id="646" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="651" href="Nominal.Support.html#630" class="Bound">xs</a> <a id="654" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="657" class="Symbol">λ</a> <a id="659" class="Keyword">where</a>
      <a id="671" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="674" class="Symbol">→</a> <a id="676" href="Level.html#400" class="Record">Lvl.Lift</a> <a id="685" class="Symbol">_</a> <a id="687" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
      <a id="695" class="Symbol">(</a><a id="696" href="Nominal.Support.html#696" class="Bound">x</a> <a id="698" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="700" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="702" class="Symbol">)</a> <a id="704" class="Symbol">→</a> <a id="706" class="Symbol">∀</a> <a id="708" href="Nominal.Support.html#708" class="Bound">y</a> <a id="710" class="Symbol">→</a> <a id="712" href="Nominal.Support.html#708" class="Bound">y</a> <a id="714" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="716" href="Nominal.Support.html#696" class="Bound">x</a> <a id="718" class="Symbol">→</a> <a id="720" href="Nominal.Swap.Base.html#430" class="Field">swap</a> <a id="725" href="Nominal.Support.html#696" class="Bound">x</a> <a id="727" href="Nominal.Support.html#708" class="Bound">y</a> <a id="729" href="Nominal.Support.html#626" class="Bound">a</a> <a id="731" href="Prelude.Setoid.html#230" class="Function Operator">≉</a> <a id="733" href="Nominal.Support.html#626" class="Bound">a</a>
      <a id="741" class="Symbol">(</a><a id="742" href="Nominal.Support.html#742" class="Bound">xs</a><a id="744" class="Symbol">@(_</a> <a id="748" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="750" class="Symbol">_</a> <a id="752" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="754" class="Symbol">_))</a> <a id="758" class="Symbol">→</a>
        <a id="768" href="Data.List.Relation.Unary.Unique.Setoid.html#719" class="Datatype">Unique</a> <a id="775" href="Nominal.Support.html#742" class="Bound">xs</a> <a id="778" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="780" class="Symbol">∀</a> <a id="782" href="Nominal.Support.html#782" class="Bound">x</a> <a id="784" href="Nominal.Support.html#784" class="Bound">y</a> <a id="786" class="Symbol">→</a> <a id="788" href="Nominal.Support.html#782" class="Bound">x</a> <a id="790" href="Data.List.Membership.Setoid.html#887" class="Function Operator">∈</a> <a id="792" href="Nominal.Support.html#742" class="Bound">xs</a> <a id="795" class="Symbol">→</a> <a id="797" href="Nominal.Support.html#784" class="Bound">y</a> <a id="799" href="Data.List.Membership.Setoid.html#887" class="Function Operator">∈</a> <a id="801" href="Nominal.Support.html#742" class="Bound">xs</a> <a id="804" class="Symbol">→</a> <a id="806" href="Nominal.Support.html#782" class="Bound">x</a> <a id="808" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="810" href="Nominal.Support.html#784" class="Bound">y</a> <a id="812" class="Symbol">→</a> <a id="814" href="Nominal.Swap.Base.html#430" class="Field">swap</a> <a id="819" href="Nominal.Support.html#782" class="Bound">x</a> <a id="821" href="Nominal.Support.html#784" class="Bound">y</a> <a id="823" href="Nominal.Support.html#626" class="Bound">a</a> <a id="825" href="Prelude.Setoid.html#230" class="Function Operator">≉</a> <a id="827" href="Nominal.Support.html#626" class="Bound">a</a>

<a id="830" class="Keyword">record</a> <a id="FinitelySupported"></a><a id="837" href="Nominal.Support.html#837" class="Record">FinitelySupported</a> <a id="855" class="Symbol">(</a><a id="856" href="Nominal.Support.html#856" class="Bound">A</a> <a id="858" class="Symbol">:</a> <a id="860" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="865" href="Prelude.Init.html#330" class="Generalizable">ℓ</a><a id="866" class="Symbol">)</a>
  <a id="870" class="Symbol">⦃</a> <a id="872" href="Nominal.Support.html#872" class="Bound">ls</a> <a id="875" class="Symbol">:</a> <a id="877" href="Prelude.Setoid.html#1002" class="Record">Lawful-Setoid</a> <a id="891" href="Nominal.Support.html#856" class="Bound">A</a> <a id="893" class="Symbol">⦄</a> <a id="895" class="Symbol">⦃</a> <a id="897" href="Nominal.Support.html#897" class="Bound">_</a> <a id="899" class="Symbol">:</a> <a id="901" href="Nominal.Swap.Base.html#3663" class="Record">Lawful-Swap</a> <a id="913" href="Nominal.Support.html#856" class="Bound">A</a> <a id="915" class="Symbol">⦃</a> <a id="917" href="Nominal.Support.html#872" class="Bound">ls</a> <a id="920" class="Symbol">⦄</a> <a id="922" class="Symbol">⦄</a> <a id="924" class="Symbol">:</a> <a id="926" href="Agda.Primitive.html#381" class="Primitive">Setω</a> <a id="931" class="Keyword">where</a>

  <a id="940" class="Keyword">field</a> <a id="FinitelySupported.∀fin"></a><a id="946" href="Nominal.Support.html#946" class="Field">∀fin</a> <a id="951" class="Symbol">:</a> <a id="953" href="Relation.Unary.html#3221" class="Function">Unary.Universal</a> <a id="969" href="Nominal.Support.html#508" class="Function">FinSupp</a>

  <a id="FinitelySupported.supp"></a><a id="980" href="Nominal.Support.html#980" class="Function">supp</a> <a id="985" class="Symbol">:</a> <a id="987" href="Nominal.Support.html#856" class="Bound">A</a> <a id="989" class="Symbol">→</a> <a id="991" href="Nominal.Swap.Base.html#306" class="Function">Atoms</a>
  <a id="999" href="Nominal.Support.html#980" class="Function">supp</a> <a id="1004" class="Symbol">=</a> <a id="1006" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="1012" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1014" href="Nominal.Support.html#946" class="Field">∀fin</a>

  <a id="FinitelySupported._∙supp"></a><a id="1022" href="Nominal.Support.html#1022" class="Function Operator">_∙supp</a> <a id="1029" class="Symbol">=</a> <a id="1031" href="Nominal.Support.html#980" class="Function">supp</a>

  <a id="1039" class="Comment">-- T0D0: extract minimal support</a>
  <a id="1074" class="Comment">--   i.e. filter out elements of `supp` that already satisfy P</a>
  <a id="1139" class="Comment">-- module _ ⦃ _ : IDecSetoid A ⦄ where</a>
  <a id="1180" class="Comment">--   minSupp : A → Atoms</a>
  <a id="1207" class="Comment">--   minSupp a =</a>
  <a id="1226" class="Comment">--     let xs , P = ∀fin a</a>
  <a id="1255" class="Comment">--     in  filter ? xs</a>
  <a id="1280" class="Comment">--     ?</a>
  <a id="1291" class="Comment">-- NB: doesn&#39;t hold in general ⇒ leads to a solution to the halting problem</a>
  <a id="1369" class="Comment">-- T0D0: find a characterization of this decidable sub-space</a>

  <a id="FinitelySupported.fresh∉"></a><a id="1433" href="Nominal.Support.html#1433" class="Function">fresh∉</a> <a id="1440" class="Symbol">:</a> <a id="1442" class="Symbol">(</a><a id="1443" href="Nominal.Support.html#1443" class="Bound">a</a> <a id="1445" class="Symbol">:</a> <a id="1447" href="Nominal.Support.html#856" class="Bound">A</a><a id="1448" class="Symbol">)</a> <a id="1450" class="Symbol">→</a> <a id="1452" href="Data.Product.html#1369" class="Function">∃</a> <a id="1454" class="Symbol">(</a><a id="1455" href="Data.List.Membership.Setoid.html#936" class="Function Operator">_∉</a> <a id="1458" href="Nominal.Support.html#980" class="Function">supp</a> <a id="1463" href="Nominal.Support.html#1443" class="Bound">a</a><a id="1464" class="Symbol">)</a>
  <a id="1468" href="Nominal.Support.html#1433" class="Function">fresh∉</a> <a id="1475" class="Symbol">=</a> <a id="1477" href="Prelude.InfEnumerable.html#1634" class="Function">fresh</a> <a id="1483" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1485" href="Nominal.Support.html#980" class="Function">supp</a>
  <a id="1492" class="Comment">-- T0D0: optimize fresh to generates the *least* element (not `1 + ∑ support`)</a>

  <a id="FinitelySupported.fresh-var"></a><a id="1574" href="Nominal.Support.html#1574" class="Function">fresh-var</a> <a id="1584" class="Symbol">:</a> <a id="1586" href="Nominal.Support.html#856" class="Bound">A</a> <a id="1588" class="Symbol">→</a> <a id="1590" href="Nominal.Support.html#199" class="Bound">Atom</a>
  <a id="1597" href="Nominal.Support.html#1574" class="Function">fresh-var</a> <a id="1607" class="Symbol">=</a> <a id="1609" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="1615" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1617" href="Nominal.Support.html#1433" class="Function">fresh∉</a>

  <a id="FinitelySupported.∃fresh"></a><a id="1627" href="Nominal.Support.html#1627" class="Function">∃fresh</a> <a id="1634" class="Symbol">:</a> <a id="1636" class="Symbol">∀</a> <a id="1638" class="Symbol">(</a><a id="1639" href="Nominal.Support.html#1639" class="Bound">x</a> <a id="1641" class="Symbol">:</a> <a id="1643" href="Nominal.Support.html#856" class="Bound">A</a><a id="1644" class="Symbol">)</a> <a id="1646" class="Symbol">→</a> <a id="1648" href="Data.Product.html#1369" class="Function">∃</a> <a id="1650" class="Symbol">λ</a> <a id="1652" href="Nominal.Support.html#1652" class="Bound">𝕒</a> <a id="1654" class="Symbol">→</a> <a id="1656" href="Data.Product.html#1369" class="Function">∃</a> <a id="1658" class="Symbol">λ</a> <a id="1660" href="Nominal.Support.html#1660" class="Bound">𝕓</a> <a id="1662" class="Symbol">→</a>
      <a id="1670" class="Symbol">(</a><a id="1671" href="Nominal.Support.html#1652" class="Bound">𝕒</a> <a id="1673" href="Nominal.Support.html#448" class="Function Operator">♯</a> <a id="1675" href="Nominal.Support.html#1639" class="Bound">x</a><a id="1676" class="Symbol">)</a>
    <a id="1682" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1684" class="Symbol">(</a><a id="1685" href="Nominal.Support.html#1660" class="Bound">𝕓</a> <a id="1687" href="Nominal.Support.html#448" class="Function Operator">♯</a> <a id="1689" href="Nominal.Support.html#1639" class="Bound">x</a><a id="1690" class="Symbol">)</a>
    <a id="1696" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1698" class="Symbol">(</a><a id="1699" href="Nominal.Swap.Base.html#430" class="Field">swap</a> <a id="1704" href="Nominal.Support.html#1660" class="Bound">𝕓</a> <a id="1706" href="Nominal.Support.html#1652" class="Bound">𝕒</a> <a id="1708" href="Nominal.Support.html#1639" class="Bound">x</a> <a id="1710" href="Prelude.Setoid.html#210" class="Field Operator">≈</a> <a id="1712" href="Nominal.Support.html#1639" class="Bound">x</a><a id="1713" class="Symbol">)</a>
  <a id="1717" href="Nominal.Support.html#1627" class="Function">∃fresh</a> <a id="1724" href="Nominal.Support.html#1724" class="Bound">x</a> <a id="1726" class="Symbol">=</a>
    <a id="1732" class="Keyword">let</a> <a id="1736" href="Nominal.Support.html#1736" class="Bound">xs</a> <a id="1739" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1741" href="Nominal.Support.html#1741" class="Bound">swap≈</a> <a id="1747" class="Symbol">=</a> <a id="1749" href="Nominal.Support.html#946" class="Field">∀fin</a> <a id="1754" href="Nominal.Support.html#1724" class="Bound">x</a>
        <a id="1764" class="Comment">-- ((a ∷ b ∷ []) , (a∉ V.All.∷ b∉ V.All.∷ V.All.[])) = (fresh^ 2) xs</a>
        <a id="1841" href="Nominal.Support.html#1841" class="Bound">a</a> <a id="1843" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1845" href="Nominal.Support.html#1845" class="Bound">a∉</a> <a id="1848" class="Symbol">=</a> <a id="1850" href="Prelude.InfEnumerable.html#1634" class="Function">fresh</a> <a id="1856" href="Nominal.Support.html#1736" class="Bound">xs</a>
        <a id="1867" href="Nominal.Support.html#1867" class="Bound">b</a> <a id="1869" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1871" href="Nominal.Support.html#1871" class="Bound">b∉</a> <a id="1874" class="Symbol">=</a> <a id="1876" href="Prelude.InfEnumerable.html#1634" class="Function">fresh</a> <a id="1882" href="Nominal.Support.html#1736" class="Bound">xs</a>

        <a id="1894" href="Nominal.Support.html#1894" class="Bound">p</a> <a id="1896" class="Symbol">:</a> <a id="1898" href="Nominal.Support.html#1841" class="Bound">a</a> <a id="1900" href="Nominal.Support.html#448" class="Function Operator">♯</a> <a id="1902" href="Nominal.Support.html#1724" class="Bound">x</a>
        <a id="1912" href="Nominal.Support.html#1894" class="Bound">p</a> <a id="1914" class="Symbol">=</a> <a id="1916" href="Nominal.Support.html#1736" class="Bound">xs</a> <a id="1919" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1921" class="Symbol">λ</a> <a id="1923" href="Nominal.Support.html#1923" class="Bound">y</a> <a id="1925" href="Nominal.Support.html#1925" class="Bound">y∉</a> <a id="1928" class="Symbol">→</a> <a id="1930" href="Nominal.Support.html#1741" class="Bound">swap≈</a> <a id="1936" href="Nominal.Support.html#1841" class="Bound">a</a> <a id="1938" href="Nominal.Support.html#1923" class="Bound">y</a> <a id="1940" href="Nominal.Support.html#1845" class="Bound">a∉</a> <a id="1943" href="Nominal.Support.html#1925" class="Bound">y∉</a>

        <a id="1955" href="Nominal.Support.html#1955" class="Bound">q</a> <a id="1957" class="Symbol">:</a> <a id="1959" href="Nominal.Support.html#1867" class="Bound">b</a> <a id="1961" href="Nominal.Support.html#448" class="Function Operator">♯</a> <a id="1963" href="Nominal.Support.html#1724" class="Bound">x</a>
        <a id="1973" href="Nominal.Support.html#1955" class="Bound">q</a> <a id="1975" class="Symbol">=</a> <a id="1977" href="Nominal.Support.html#1736" class="Bound">xs</a> <a id="1980" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1982" class="Symbol">λ</a> <a id="1984" href="Nominal.Support.html#1984" class="Bound">y</a> <a id="1986" href="Nominal.Support.html#1986" class="Bound">y∉</a> <a id="1989" class="Symbol">→</a> <a id="1991" href="Nominal.Support.html#1741" class="Bound">swap≈</a> <a id="1997" href="Nominal.Support.html#1867" class="Bound">b</a> <a id="1999" href="Nominal.Support.html#1984" class="Bound">y</a> <a id="2001" href="Nominal.Support.html#1871" class="Bound">b∉</a> <a id="2004" href="Nominal.Support.html#1986" class="Bound">y∉</a>

    <a id="2012" class="Keyword">in</a> <a id="2015" href="Nominal.Support.html#1841" class="Bound">a</a> <a id="2017" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2019" href="Nominal.Support.html#1867" class="Bound">b</a> <a id="2021" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2023" href="Nominal.Support.html#1894" class="Bound">p</a> <a id="2025" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2027" href="Nominal.Support.html#1955" class="Bound">q</a> <a id="2029" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2031" href="Nominal.Support.html#1741" class="Bound">swap≈</a> <a id="2037" href="Nominal.Support.html#1841" class="Bound">a</a> <a id="2039" href="Nominal.Support.html#1867" class="Bound">b</a> <a id="2041" href="Nominal.Support.html#1845" class="Bound">a∉</a> <a id="2044" href="Nominal.Support.html#1871" class="Bound">b∉</a>

  <a id="2050" class="Comment">-- T0D0: meta-programming tactic `fresh-in-context` (big sister to `deriveSwap`)</a>
  <a id="2133" class="Comment">-- NB: these tactics correspond to two fundamental axioms/notions in nominal sets</a>
  <a id="2217" class="Comment">-- (c.f. EZFA)</a>

<a id="2233" class="Keyword">open</a> <a id="2238" href="Nominal.Support.html#837" class="Module">FinitelySupported</a> <a id="2256" class="Symbol">⦃...⦄</a> <a id="2262" class="Keyword">public</a>

<a id="2270" class="Keyword">module</a> <a id="2277" href="Nominal.Support.html#2277" class="Module">_</a> <a id="2279" class="Symbol">⦃</a> <a id="2281" href="Nominal.Support.html#2281" class="Bound">ls</a> <a id="2284" class="Symbol">:</a> <a id="2286" href="Prelude.Setoid.html#1002" class="Record">Lawful-Setoid</a> <a id="2300" href="Nominal.Support.html#371" class="Generalizable">A</a> <a id="2302" class="Symbol">⦄</a> <a id="2304" class="Symbol">⦃</a> <a id="2306" href="Nominal.Support.html#2306" class="Bound">lsw</a> <a id="2310" class="Symbol">:</a> <a id="2312" href="Nominal.Swap.Base.html#3663" class="Record">Lawful-Swap</a> <a id="2324" href="Nominal.Support.html#371" class="Generalizable">A</a> <a id="2326" class="Symbol">⦃</a> <a id="2328" href="Nominal.Support.html#2281" class="Bound">ls</a> <a id="2331" class="Symbol">⦄</a> <a id="2333" class="Symbol">⦄</a> <a id="2335" class="Keyword">where</a>

  <a id="2344" class="Comment">-- alternative definition of equivariance based on (finite) support</a>
  <a id="2414" href="Nominal.Support.html#2414" class="Function">Equivariant¹′</a> <a id="2428" class="Symbol">:</a> <a id="2430" class="Symbol">(</a><a id="2431" href="Nominal.Support.html#2300" class="Bound">A</a> <a id="2433" class="Symbol">→</a> <a id="2435" href="Nominal.Support.html#2300" class="Bound">A</a><a id="2436" class="Symbol">)</a> <a id="2438" class="Symbol">→</a> <a id="2440" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="2445" class="Symbol">_</a>
  <a id="2449" href="Nominal.Support.html#2414" class="Function">Equivariant¹′</a> <a id="2463" href="Nominal.Support.html#2463" class="Bound">f</a> <a id="2465" class="Symbol">=</a> <a id="2467" href="Data.Product.html#1369" class="Function">∃</a> <a id="2469" class="Symbol">λ</a> <a id="2471" class="Symbol">(</a><a id="2472" href="Nominal.Support.html#2472" class="Bound">fin-f</a> <a id="2478" class="Symbol">:</a> <a id="2480" href="Nominal.Support.html#508" class="Function">FinSupp</a> <a id="2488" href="Nominal.Support.html#2463" class="Bound">f</a><a id="2489" class="Symbol">)</a> <a id="2491" class="Symbol">→</a> <a id="2493" href="Nominal.Support.html#2472" class="Bound">fin-f</a> <a id="2499" class="Symbol">.</a><a id="2500" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="2506" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2508" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

  <a id="2514" href="Nominal.Support.html#2514" class="Function">equivariant-equiv</a> <a id="2532" class="Symbol">:</a> <a id="2534" class="Symbol">∀</a> <a id="2536" class="Symbol">{</a><a id="2537" href="Nominal.Support.html#2537" class="Bound">f</a> <a id="2539" class="Symbol">:</a> <a id="2541" href="Nominal.Support.html#2300" class="Bound">A</a> <a id="2543" class="Symbol">→</a> <a id="2545" href="Nominal.Support.html#2300" class="Bound">A</a><a id="2546" class="Symbol">}</a> <a id="2548" class="Symbol">→</a>
    <a id="2554" href="Nominal.Abs.Base.html#2136" class="Function">Equivariant¹</a> <a id="2567" href="Nominal.Support.html#2537" class="Bound">f</a>
    <a id="2573" href="Prelude.InferenceRules.html#70174" class="Function Operator">═══════════════════</a>
    <a id="2597" href="Nominal.Support.html#2414" class="Function">Equivariant¹′</a> <a id="2611" href="Nominal.Support.html#2537" class="Bound">f</a>
  <a id="2615" href="Nominal.Support.html#2514" class="Function">equivariant-equiv</a> <a id="2633" class="Symbol">{</a><a id="2634" class="Argument">f</a> <a id="2636" class="Symbol">=</a> <a id="2638" href="Nominal.Support.html#2638" class="Bound">f</a><a id="2639" class="Symbol">}</a> <a id="2641" class="Symbol">=</a> <a id="2643" href="Nominal.Support.html#2695" class="Function">↝</a> <a id="2645" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2647" href="Nominal.Support.html#3115" class="Function">↜</a>
      <a id="2655" class="Keyword">where</a>
        <a id="2669" class="Keyword">open</a> <a id="2674" href="Prelude.Setoid.html#931" class="Module">≈-Reasoning</a>

        <a id="2695" href="Nominal.Support.html#2695" class="Function">↝</a> <a id="2697" class="Symbol">:</a> <a id="2699" href="Nominal.Abs.Base.html#2136" class="Function">Equivariant¹</a> <a id="2712" href="Nominal.Support.html#2638" class="Bound">f</a>
            <a id="2726" href="Prelude.InferenceRules.html#14124" class="Function Operator">───────────────────</a>
            <a id="2758" href="Nominal.Support.html#2414" class="Function">Equivariant¹′</a> <a id="2772" href="Nominal.Support.html#2638" class="Bound">f</a>
        <a id="2782" href="Nominal.Support.html#2695" class="Function">↝</a> <a id="2784" href="Nominal.Support.html#2784" class="Bound">equiv-f</a> <a id="2792" class="Symbol">=</a> <a id="2794" href="Nominal.Support.html#2835" class="Function">fin-f</a> <a id="2800" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2802" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
          <a id="2817" class="Keyword">where</a>
            <a id="2835" href="Nominal.Support.html#2835" class="Function">fin-f</a> <a id="2841" class="Symbol">:</a> <a id="2843" href="Nominal.Support.html#508" class="Function">FinSupp</a> <a id="2851" href="Nominal.Support.html#2638" class="Bound">f</a>
            <a id="2865" href="Nominal.Support.html#2835" class="Function">fin-f</a> <a id="2871" class="Symbol">=</a> <a id="2873" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2876" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2878" class="Symbol">λ</a> <a id="2880" href="Nominal.Support.html#2880" class="Bound">x</a> <a id="2882" href="Nominal.Support.html#2882" class="Bound">y</a> <a id="2884" href="Nominal.Support.html#2884" class="Bound">_</a> <a id="2886" href="Nominal.Support.html#2886" class="Bound">_</a> <a id="2888" href="Nominal.Support.html#2888" class="Bound">a</a> <a id="2890" class="Symbol">→</a>
              <a id="2906" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
                <a id="2928" href="Nominal.Swap.Base.html#608" class="Function Operator">⦅</a> <a id="2930" href="Nominal.Support.html#2882" class="Bound">y</a> <a id="2932" href="Nominal.Swap.Base.html#608" class="Function Operator">↔</a> <a id="2934" href="Nominal.Support.html#2880" class="Bound">x</a> <a id="2936" href="Nominal.Swap.Base.html#608" class="Function Operator">⦆</a> <a id="2938" class="Symbol">(</a><a id="2939" href="Nominal.Support.html#2638" class="Bound">f</a> <a id="2941" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="2943" href="Nominal.Swap.Base.html#608" class="Function Operator">⦅</a> <a id="2945" href="Nominal.Support.html#2882" class="Bound">y</a> <a id="2947" href="Nominal.Swap.Base.html#608" class="Function Operator">↔</a> <a id="2949" href="Nominal.Support.html#2880" class="Bound">x</a> <a id="2951" href="Nominal.Swap.Base.html#608" class="Function Operator">⦆</a> <a id="2953" href="Nominal.Support.html#2888" class="Bound">a</a><a id="2954" class="Symbol">)</a>
              <a id="2970" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="2973" href="Nominal.Swap.Base.html#2402" class="Field">cong-swap</a> <a id="2983" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="2985" href="Nominal.Support.html#2784" class="Bound">equiv-f</a> <a id="2993" class="Symbol">_</a> <a id="2995" class="Symbol">_</a> <a id="2997" class="Symbol">_</a> <a id="2999" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
                <a id="3017" href="Nominal.Swap.Base.html#608" class="Function Operator">⦅</a> <a id="3019" href="Nominal.Support.html#2882" class="Bound">y</a> <a id="3021" href="Nominal.Swap.Base.html#608" class="Function Operator">↔</a> <a id="3023" href="Nominal.Support.html#2880" class="Bound">x</a> <a id="3025" href="Nominal.Swap.Base.html#608" class="Function Operator">⦆</a> <a id="3027" href="Nominal.Swap.Base.html#608" class="Function Operator">⦅</a> <a id="3029" href="Nominal.Support.html#2882" class="Bound">y</a> <a id="3031" href="Nominal.Swap.Base.html#608" class="Function Operator">↔</a> <a id="3033" href="Nominal.Support.html#2880" class="Bound">x</a> <a id="3035" href="Nominal.Swap.Base.html#608" class="Function Operator">⦆</a> <a id="3037" href="Nominal.Support.html#2638" class="Bound">f</a> <a id="3039" href="Nominal.Support.html#2888" class="Bound">a</a>
              <a id="3055" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="3058" href="Nominal.Swap.Base.html#3065" class="Function">swap-sym′</a> <a id="3068" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
                <a id="3086" href="Nominal.Support.html#2638" class="Bound">f</a> <a id="3088" href="Nominal.Support.html#2888" class="Bound">a</a>
              <a id="3104" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>

        <a id="3115" href="Nominal.Support.html#3115" class="Function">↜</a> <a id="3117" class="Symbol">:</a> <a id="3119" href="Nominal.Support.html#2414" class="Function">Equivariant¹′</a> <a id="3133" href="Nominal.Support.html#2638" class="Bound">f</a>
            <a id="3147" href="Prelude.InferenceRules.html#14124" class="Function Operator">───────────────────</a>
            <a id="3179" href="Nominal.Abs.Base.html#2136" class="Function">Equivariant¹</a> <a id="3192" href="Nominal.Support.html#2638" class="Bound">f</a>
        <a id="3202" href="Nominal.Support.html#3115" class="Function">↜</a> <a id="3204" class="Symbol">(</a><a id="3205" href="Nominal.Support.html#3205" class="Bound">fin-f</a> <a id="3211" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3213" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="3217" class="Symbol">)</a> <a id="3219" href="Nominal.Support.html#3219" class="Bound">x</a> <a id="3221" href="Nominal.Support.html#3221" class="Bound">a</a> <a id="3223" href="Nominal.Support.html#3223" class="Bound">b</a> <a id="3225" class="Symbol">=</a>
          <a id="3237" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
            <a id="3255" href="Nominal.Support.html#2638" class="Bound">f</a> <a id="3257" class="Symbol">(</a><a id="3258" href="Nominal.Swap.Base.html#608" class="Function Operator">⦅</a> <a id="3260" href="Nominal.Support.html#3221" class="Bound">a</a> <a id="3262" href="Nominal.Swap.Base.html#608" class="Function Operator">↔</a> <a id="3264" href="Nominal.Support.html#3223" class="Bound">b</a> <a id="3266" href="Nominal.Swap.Base.html#608" class="Function Operator">⦆</a> <a id="3268" href="Nominal.Support.html#3219" class="Bound">x</a><a id="3269" class="Symbol">)</a>
          <a id="3281" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="3285" href="Nominal.Swap.Base.html#3065" class="Function">swap-sym′</a> <a id="3295" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
            <a id="3309" href="Nominal.Swap.Base.html#608" class="Function Operator">⦅</a> <a id="3311" href="Nominal.Support.html#3221" class="Bound">a</a> <a id="3313" href="Nominal.Swap.Base.html#608" class="Function Operator">↔</a> <a id="3315" href="Nominal.Support.html#3223" class="Bound">b</a> <a id="3317" href="Nominal.Swap.Base.html#608" class="Function Operator">⦆</a> <a id="3319" href="Nominal.Swap.Base.html#608" class="Function Operator">⦅</a> <a id="3321" href="Nominal.Support.html#3221" class="Bound">a</a> <a id="3323" href="Nominal.Swap.Base.html#608" class="Function Operator">↔</a> <a id="3325" href="Nominal.Support.html#3223" class="Bound">b</a> <a id="3327" href="Nominal.Swap.Base.html#608" class="Function Operator">⦆</a> <a id="3329" href="Nominal.Support.html#2638" class="Bound">f</a> <a id="3331" class="Symbol">(</a><a id="3332" href="Nominal.Swap.Base.html#608" class="Function Operator">⦅</a> <a id="3334" href="Nominal.Support.html#3221" class="Bound">a</a> <a id="3336" href="Nominal.Swap.Base.html#608" class="Function Operator">↔</a> <a id="3338" href="Nominal.Support.html#3223" class="Bound">b</a> <a id="3340" href="Nominal.Swap.Base.html#608" class="Function Operator">⦆</a> <a id="3342" href="Nominal.Support.html#3219" class="Bound">x</a><a id="3343" class="Symbol">)</a>
          <a id="3355" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="3358" href="Nominal.Swap.Base.html#2402" class="Field">cong-swap</a> <a id="3368" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="3370" href="Nominal.Support.html#3205" class="Bound">fin-f</a> <a id="3376" class="Symbol">.</a><a id="3377" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="3383" class="Symbol">_</a> <a id="3385" class="Symbol">_</a> <a id="3387" class="Symbol">(λ</a> <a id="3390" class="Symbol">())</a> <a id="3394" class="Symbol">(λ</a> <a id="3397" class="Symbol">())</a> <a id="3401" class="Symbol">_</a> <a id="3403" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
            <a id="3417" href="Nominal.Swap.Base.html#608" class="Function Operator">⦅</a> <a id="3419" href="Nominal.Support.html#3221" class="Bound">a</a> <a id="3421" href="Nominal.Swap.Base.html#608" class="Function Operator">↔</a> <a id="3423" href="Nominal.Support.html#3223" class="Bound">b</a> <a id="3425" href="Nominal.Swap.Base.html#608" class="Function Operator">⦆</a> <a id="3427" href="Nominal.Support.html#2638" class="Bound">f</a> <a id="3429" href="Nominal.Support.html#3219" class="Bound">x</a>
          <a id="3441" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>

  <a id="3446" class="Keyword">private</a>
    <a id="3458" href="Nominal.Support.html#3458" class="Function">f</a> <a id="3460" class="Symbol">:</a> <a id="3462" href="Nominal.Support.html#2300" class="Bound">A</a> <a id="3464" class="Symbol">→</a> <a id="3466" href="Nominal.Support.html#2300" class="Bound">A</a>
    <a id="3472" href="Nominal.Support.html#3458" class="Function">f</a> <a id="3474" class="Symbol">=</a> <a id="3476" href="Function.Base.html#615" class="Function">id</a>

    <a id="3484" href="Nominal.Support.html#3484" class="Function">suppF</a> <a id="3490" class="Symbol">=</a> <a id="3492" href="Nominal.Swap.Base.html#306" class="Function">Atoms</a> <a id="3498" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="3500" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

    <a id="3508" href="Nominal.Support.html#3508" class="Function">g</a> <a id="3510" class="Symbol">:</a> <a id="3512" href="Nominal.Support.html#2300" class="Bound">A</a> <a id="3514" class="Symbol">→</a> <a id="3516" href="Nominal.Support.html#2300" class="Bound">A</a>
    <a id="3522" href="Nominal.Support.html#3508" class="Function">g</a> <a id="3524" href="Nominal.Support.html#3524" class="Bound">x</a> <a id="3526" class="Symbol">=</a> <a id="3528" href="Nominal.Support.html#3524" class="Bound">x</a>

    <a id="3535" href="Nominal.Support.html#3535" class="Function">f≗g</a> <a id="3539" class="Symbol">:</a> <a id="3541" href="Nominal.Support.html#3458" class="Function">f</a> <a id="3543" href="Relation.Binary.PropositionalEquality.html#1471" class="Function Operator">≗</a> <a id="3545" href="Nominal.Support.html#3508" class="Function">g</a>
    <a id="3551" href="Nominal.Support.html#3535" class="Function">f≗g</a> <a id="3555" class="Symbol">_</a> <a id="3557" class="Symbol">=</a> <a id="3559" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="3569" href="Nominal.Support.html#3569" class="Function">f≈g</a> <a id="3573" class="Symbol">:</a> <a id="3575" href="Nominal.Support.html#3458" class="Function">f</a> <a id="3577" href="Prelude.Setoid.html#210" class="Field Operator">≈</a> <a id="3579" href="Nominal.Support.html#3508" class="Function">g</a>
    <a id="3585" href="Nominal.Support.html#3569" class="Function">f≈g</a> <a id="3589" class="Symbol">_</a> <a id="3591" class="Symbol">=</a> <a id="3593" href="Prelude.Setoid.html#696" class="Function">≈-refl</a>

    <a id="3605" href="Nominal.Support.html#3605" class="Function">fin-f</a> <a id="3611" class="Symbol">:</a> <a id="3613" href="Nominal.Support.html#508" class="Function">FinSupp</a> <a id="3621" href="Nominal.Support.html#3458" class="Function">f</a>
    <a id="3627" href="Nominal.Support.html#3605" class="Function">fin-f</a> <a id="3633" class="Symbol">=</a> <a id="3635" href="Nominal.Support.html#3484" class="Function">suppF</a> <a id="3641" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3643" class="Symbol">λ</a> <a id="3645" href="Nominal.Support.html#3645" class="Bound">_</a> <a id="3647" href="Nominal.Support.html#3647" class="Bound">_</a> <a id="3649" href="Nominal.Support.html#3649" class="Bound">_</a> <a id="3651" href="Nominal.Support.html#3651" class="Bound">_</a> <a id="3653" href="Nominal.Support.html#3653" class="Bound">_</a> <a id="3655" class="Symbol">→</a> <a id="3657" href="Nominal.Swap.Base.html#3065" class="Function">swap-sym′</a>

    <a id="3672" href="Nominal.Support.html#3672" class="Function">min-fin-f</a> <a id="3682" class="Symbol">:</a> <a id="3684" href="Nominal.Support.html#570" class="Function">MinSupp</a> <a id="3692" href="Nominal.Support.html#3605" class="Function">fin-f</a>
    <a id="3702" href="Nominal.Support.html#3672" class="Function">min-fin-f</a> <a id="3712" class="Symbol">=</a> <a id="3714" href="Level.html#457" class="InductiveConstructor">Lvl.lift</a> <a id="3723" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>

    <a id="3731" href="Nominal.Support.html#3731" class="Function">equiv-f</a> <a id="3739" class="Symbol">:</a> <a id="3741" href="Nominal.Abs.Base.html#2136" class="Function">Equivariant¹</a> <a id="3754" href="Nominal.Support.html#3458" class="Function">f</a>
    <a id="3760" href="Nominal.Support.html#3731" class="Function">equiv-f</a> <a id="3768" class="Symbol">_</a> <a id="3770" class="Symbol">_</a> <a id="3772" class="Symbol">_</a> <a id="3774" class="Symbol">=</a> <a id="3776" href="Prelude.Setoid.html#696" class="Function">≈-refl</a>

    <a id="3788" href="Nominal.Support.html#3788" class="Function">equiv-f′</a> <a id="3797" class="Symbol">:</a> <a id="3799" href="Nominal.Support.html#2414" class="Function">Equivariant¹′</a> <a id="3813" href="Nominal.Support.html#3458" class="Function">f</a>
    <a id="3819" href="Nominal.Support.html#3788" class="Function">equiv-f′</a> <a id="3828" class="Symbol">=</a> <a id="3830" href="Nominal.Support.html#3605" class="Function">fin-f</a> <a id="3836" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3838" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

  <a id="3846" class="Comment">-- abstractions over finitely supported types are themselves finite</a>
  <a id="3916" class="Keyword">instance</a>
    <a id="3929" href="Nominal.Support.html#3929" class="Function">FinSupp-abs</a> <a id="3941" class="Symbol">:</a> <a id="3943" class="Symbol">⦃</a> <a id="3945" href="Nominal.Support.html#837" class="Record">FinitelySupported</a> <a id="3963" href="Nominal.Support.html#2300" class="Bound">A</a> <a id="3965" class="Symbol">⦃</a> <a id="3967" href="Nominal.Support.html#2281" class="Bound">ls</a> <a id="3970" class="Symbol">⦄</a> <a id="3972" class="Symbol">⦃</a> <a id="3974" href="Nominal.Support.html#2306" class="Bound">lsw</a> <a id="3978" class="Symbol">⦄</a> <a id="3980" class="Symbol">⦄</a> <a id="3982" class="Symbol">→</a> <a id="3984" href="Nominal.Support.html#837" class="Record">FinitelySupported</a> <a id="4002" class="Symbol">(</a><a id="4003" href="Nominal.Abs.Base.html#330" class="Record">Abs</a> <a id="4007" href="Nominal.Support.html#2300" class="Bound">A</a><a id="4008" class="Symbol">)</a>
    <a id="4014" href="Nominal.Support.html#3929" class="Function">FinSupp-abs</a> <a id="4026" class="Symbol">.</a><a id="4027" href="Nominal.Support.html#946" class="Field">∀fin</a> <a id="4032" class="Symbol">(</a><a id="4033" href="Nominal.Abs.Base.html#376" class="InductiveConstructor">abs</a> <a id="4037" href="Nominal.Support.html#4037" class="Bound">x</a> <a id="4039" href="Nominal.Support.html#4039" class="Bound">t</a><a id="4040" class="Symbol">)</a> <a id="4042" class="Symbol">=</a>
      <a id="4050" class="Keyword">let</a> <a id="4054" href="Nominal.Support.html#4054" class="Bound">xs</a> <a id="4057" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4059" href="Nominal.Support.html#4059" class="Bound">p</a> <a id="4061" class="Symbol">=</a> <a id="4063" href="Nominal.Support.html#946" class="Field">∀fin</a> <a id="4068" href="Nominal.Support.html#4039" class="Bound">t</a>
      <a id="4076" class="Keyword">in</a> <a id="4079" href="Nominal.Support.html#4037" class="Bound">x</a> <a id="4081" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4083" href="Nominal.Support.html#4054" class="Bound">xs</a> <a id="4086" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4088" class="Symbol">λ</a> <a id="4090" href="Nominal.Support.html#4090" class="Bound">y</a> <a id="4092" href="Nominal.Support.html#4092" class="Bound">z</a> <a id="4094" href="Nominal.Support.html#4094" class="Bound">y∉</a> <a id="4097" href="Nominal.Support.html#4097" class="Bound">z∉</a> <a id="4100" class="Symbol">→</a>
      <a id="4108" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
        <a id="4122" href="Nominal.Swap.Base.html#608" class="Function Operator">⦅</a> <a id="4124" href="Nominal.Support.html#4092" class="Bound">z</a> <a id="4126" href="Nominal.Swap.Base.html#608" class="Function Operator">↔</a> <a id="4128" href="Nominal.Support.html#4090" class="Bound">y</a> <a id="4130" href="Nominal.Swap.Base.html#608" class="Function Operator">⦆</a> <a id="4132" class="Symbol">(</a><a id="4133" href="Nominal.Abs.Base.html#376" class="InductiveConstructor">abs</a> <a id="4137" href="Nominal.Support.html#4037" class="Bound">x</a> <a id="4139" href="Nominal.Support.html#4039" class="Bound">t</a><a id="4140" class="Symbol">)</a>
      <a id="4148" href="Relation.Binary.Reasoning.Base.Single.html#2470" class="Function Operator">≡⟨⟩</a>
        <a id="4160" class="Comment">-- ⦅ 𝕒 ↔ 𝕓 ⦆ (f 𝕔) ≈ (⦅ 𝕒 ↔ 𝕓 ⦆ f) (⦅ 𝕒 ↔ 𝕓 ⦆ 𝕔)</a>
        <a id="4217" href="Nominal.Abs.Base.html#376" class="InductiveConstructor">abs</a> <a id="4221" class="Symbol">(</a><a id="4222" href="Nominal.Swap.Base.html#608" class="Function Operator">⦅</a> <a id="4224" href="Nominal.Support.html#4092" class="Bound">z</a> <a id="4226" href="Nominal.Swap.Base.html#608" class="Function Operator">↔</a> <a id="4228" href="Nominal.Support.html#4090" class="Bound">y</a> <a id="4230" href="Nominal.Swap.Base.html#608" class="Function Operator">⦆</a> <a id="4232" href="Nominal.Support.html#4037" class="Bound">x</a><a id="4233" class="Symbol">)</a> <a id="4235" class="Symbol">(</a><a id="4236" href="Nominal.Swap.Base.html#608" class="Function Operator">⦅</a> <a id="4238" href="Nominal.Support.html#4092" class="Bound">z</a> <a id="4240" href="Nominal.Swap.Base.html#608" class="Function Operator">↔</a> <a id="4242" href="Nominal.Support.html#4090" class="Bound">y</a> <a id="4244" href="Nominal.Swap.Base.html#608" class="Function Operator">⦆</a> <a id="4246" href="Nominal.Support.html#4039" class="Bound">t</a><a id="4247" class="Symbol">)</a>
      <a id="4255" href="Relation.Binary.Reasoning.Base.Single.html#2182" class="Function">≡⟨</a> <a id="4258" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="4263" class="Symbol">(λ</a> <a id="4266" href="Nominal.Support.html#4266" class="Bound">◆</a> <a id="4268" class="Symbol">→</a> <a id="4270" href="Nominal.Abs.Base.html#376" class="InductiveConstructor">abs</a> <a id="4274" href="Nominal.Support.html#4266" class="Bound">◆</a> <a id="4276" class="Symbol">(</a><a id="4277" href="Nominal.Swap.Base.html#608" class="Function Operator">⦅</a> <a id="4279" href="Nominal.Support.html#4092" class="Bound">z</a> <a id="4281" href="Nominal.Swap.Base.html#608" class="Function Operator">↔</a> <a id="4283" href="Nominal.Support.html#4090" class="Bound">y</a> <a id="4285" href="Nominal.Swap.Base.html#608" class="Function Operator">⦆</a> <a id="4287" href="Nominal.Support.html#4039" class="Bound">t</a><a id="4288" class="Symbol">))</a>
            <a id="4303" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="4305" href="Nominal.Swap.Base.html#1944" class="Function">swap-noop</a> <a id="4315" href="Nominal.Support.html#4092" class="Bound">z</a> <a id="4317" href="Nominal.Support.html#4090" class="Bound">y</a> <a id="4319" href="Nominal.Support.html#4037" class="Bound">x</a> <a id="4321" class="Symbol">(λ</a> <a id="4324" class="Keyword">where</a> <a id="4330" href="Nominal.Swap.Base.html#2176" class="InductiveConstructor">♯0</a> <a id="4333" class="Symbol">→</a> <a id="4335" href="Nominal.Support.html#4097" class="Bound">z∉</a> <a id="4338" href="Nominal.Swap.Base.html#2176" class="InductiveConstructor">♯0</a><a id="4340" class="Symbol">;</a> <a id="4342" href="Nominal.Swap.Base.html#2199" class="InductiveConstructor">♯1</a> <a id="4345" class="Symbol">→</a> <a id="4347" href="Nominal.Support.html#4094" class="Bound">y∉</a> <a id="4350" href="Nominal.Swap.Base.html#2176" class="InductiveConstructor">♯0</a><a id="4352" class="Symbol">)</a> <a id="4354" href="Relation.Binary.Reasoning.Base.Single.html#2182" class="Function">⟩</a>
        <a id="4364" href="Nominal.Abs.Base.html#376" class="InductiveConstructor">abs</a> <a id="4368" href="Nominal.Support.html#4037" class="Bound">x</a> <a id="4370" class="Symbol">(</a><a id="4371" href="Nominal.Swap.Base.html#608" class="Function Operator">⦅</a> <a id="4373" href="Nominal.Support.html#4092" class="Bound">z</a> <a id="4375" href="Nominal.Swap.Base.html#608" class="Function Operator">↔</a> <a id="4377" href="Nominal.Support.html#4090" class="Bound">y</a> <a id="4379" href="Nominal.Swap.Base.html#608" class="Function Operator">⦆</a> <a id="4381" href="Nominal.Support.html#4039" class="Bound">t</a><a id="4382" class="Symbol">)</a>
      <a id="4390" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a> <a id="4393" href="Nominal.Abs.Base.html#3082" class="Function">cong-abs</a> <a id="4402" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="4404" href="Nominal.Support.html#4059" class="Bound">p</a> <a id="4406" href="Nominal.Support.html#4090" class="Bound">y</a> <a id="4408" href="Nominal.Support.html#4092" class="Bound">z</a> <a id="4410" class="Symbol">(</a><a id="4411" href="Nominal.Support.html#4094" class="Bound">y∉</a> <a id="4414" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4416" href="Data.List.Relation.Unary.Any.html#1272" class="InductiveConstructor">there</a><a id="4421" class="Symbol">)</a> <a id="4423" class="Symbol">(</a><a id="4424" href="Nominal.Support.html#4097" class="Bound">z∉</a> <a id="4427" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4429" href="Data.List.Relation.Unary.Any.html#1272" class="InductiveConstructor">there</a><a id="4434" class="Symbol">)</a> <a id="4436" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
        <a id="4446" href="Nominal.Abs.Base.html#376" class="InductiveConstructor">abs</a> <a id="4450" href="Nominal.Support.html#4037" class="Bound">x</a> <a id="4452" href="Nominal.Support.html#4039" class="Bound">t</a>
      <a id="4460" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a> <a id="4462" class="Keyword">where</a> <a id="4468" class="Keyword">open</a> <a id="4473" href="Prelude.Setoid.html#931" class="Module">≈-Reasoning</a>

  <a id="4488" class="Keyword">module</a> <a id="4495" href="Nominal.Support.html#4495" class="Module">_</a> <a id="4497" class="Symbol">⦃</a> <a id="4499" href="Nominal.Support.html#4499" class="Bound">_</a> <a id="4501" class="Symbol">:</a> <a id="4503" href="Nominal.Support.html#837" class="Record">FinitelySupported</a> <a id="4521" href="Nominal.Support.html#2300" class="Bound">A</a> <a id="4523" class="Symbol">⦄</a> <a id="4525" class="Keyword">where</a>
    <a id="4535" class="Comment">-- Two ways to fix functoriality:</a>
      <a id="4575" class="Comment">-- 1. require that (f : A → A) is equivariant</a>
    <a id="4625" class="Comment">--   2. ...or that it at least has finite support</a>
    <a id="4679" href="Nominal.Support.html#4679" class="Function">mapAbs</a> <a id="4686" class="Symbol">:</a> <a id="4688" href="Algebra.Core.html#475" class="Function">Op₁</a> <a id="4692" href="Nominal.Support.html#2300" class="Bound">A</a> <a id="4694" class="Symbol">→</a> <a id="4696" href="Algebra.Core.html#475" class="Function">Op₁</a> <a id="4700" class="Symbol">(</a><a id="4701" href="Nominal.Abs.Base.html#330" class="Record">Abs</a> <a id="4705" href="Nominal.Support.html#2300" class="Bound">A</a><a id="4706" class="Symbol">)</a>
        <a id="4716" class="Comment">-- ≈ (A → A) → (Abs A → Abs A)</a>
    <a id="4751" class="Comment">-- T0D0: In order to resolve termination issues (via well-founded recursion),</a>
    <a id="4833" class="Comment">-- we need a more restrainted version of mapAbs with type:</a>
    <a id="4896" class="Comment">-- mapAbs : (x&#39; : Abs A) → (f : (a : A) → a ≺ f → A) → Abs A</a>
    <a id="4961" class="Comment">-- NB: a generalisation would be to say that the size behaviour of</a>
    <a id="5032" class="Comment">--     `mapAbs f` corresponds to that of `f`</a>
    <a id="5081" href="Nominal.Support.html#4679" class="Function">mapAbs</a> <a id="5088" href="Nominal.Support.html#5088" class="Bound">f</a> <a id="5090" href="Nominal.Support.html#5090" class="Bound">x&#39;</a> <a id="5093" class="Symbol">=</a>
      <a id="5101" class="Keyword">let</a> <a id="5105" href="Nominal.Support.html#5105" class="Bound">a</a> <a id="5107" class="Symbol">=</a> <a id="5109" href="Nominal.Support.html#1574" class="Function">fresh-var</a> <a id="5119" href="Nominal.Support.html#5090" class="Bound">x&#39;</a> <a id="5122" class="Comment">-- T0D0: ++ supp?? f</a>
      <a id="5149" class="Keyword">in</a> <a id="5152" href="Nominal.Abs.Base.html#376" class="InductiveConstructor">abs</a> <a id="5156" href="Nominal.Support.html#5105" class="Bound">a</a> <a id="5158" class="Symbol">(</a><a id="5159" href="Nominal.Support.html#5088" class="Bound">f</a> <a id="5161" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="5163" href="Nominal.Abs.Base.html#1274" class="Function">conc</a> <a id="5168" href="Nominal.Support.html#5090" class="Bound">x&#39;</a> <a id="5171" href="Nominal.Support.html#5105" class="Bound">a</a><a id="5172" class="Symbol">)</a>

    <a id="5179" href="Nominal.Support.html#5179" class="Function">freshen</a> <a id="5187" class="Symbol">:</a> <a id="5189" href="Algebra.Core.html#475" class="Function">Op₁</a> <a id="5193" class="Symbol">(</a><a id="5194" href="Nominal.Abs.Base.html#330" class="Record">Abs</a> <a id="5198" href="Nominal.Support.html#2300" class="Bound">A</a><a id="5199" class="Symbol">)</a>
    <a id="5205" href="Nominal.Support.html#5179" class="Function">freshen</a> <a id="5213" href="Nominal.Support.html#5213" class="Bound">f</a><a id="5214" class="Symbol">@(</a><a id="5216" href="Nominal.Abs.Base.html#376" class="InductiveConstructor">abs</a> <a id="5220" href="Nominal.Support.html#5220" class="Bound">a</a> <a id="5222" href="Nominal.Support.html#5222" class="Bound">t</a><a id="5223" class="Symbol">)</a> <a id="5225" class="Symbol">=</a>
      <a id="5233" class="Keyword">let</a> <a id="5237" href="Nominal.Support.html#5237" class="Bound">xs</a> <a id="5240" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5242" class="Symbol">_</a> <a id="5244" class="Symbol">=</a> <a id="5246" href="Nominal.Support.html#946" class="Field">∀fin</a> <a id="5251" href="Nominal.Support.html#5213" class="Bound">f</a>
          <a id="5263" href="Nominal.Support.html#5263" class="Bound">b</a> <a id="5265" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5267" href="Nominal.Support.html#5267" class="Bound">b∉</a> <a id="5270" class="Symbol">=</a> <a id="5272" href="Prelude.InfEnumerable.html#1634" class="Function">fresh</a> <a id="5278" href="Nominal.Support.html#5237" class="Bound">xs</a>
      <a id="5287" class="Keyword">in</a> <a id="5290" href="Nominal.Abs.Base.html#376" class="InductiveConstructor">abs</a> <a id="5294" href="Nominal.Support.html#5263" class="Bound">b</a> <a id="5296" class="Symbol">(</a><a id="5297" href="Nominal.Abs.Base.html#1274" class="Function">conc</a> <a id="5302" href="Nominal.Support.html#5213" class="Bound">f</a> <a id="5304" href="Nominal.Support.html#5263" class="Bound">b</a><a id="5305" class="Symbol">)</a>

<a id="5308" class="Keyword">private</a>

  <a id="5319" class="Keyword">private</a> <a id="5327" class="Keyword">variable</a> <a id="5336" href="Nominal.Support.html#5336" class="Generalizable">B</a> <a id="5338" class="Symbol">:</a> <a id="5340" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="5345" href="Prelude.Init.html#332" class="Generalizable">ℓ′</a>

  <a id="5351" class="Keyword">instance</a>
    <a id="Setoid-Bool"></a><a id="5364" href="Nominal.Support.html#5364" class="Function">Setoid-Bool</a> <a id="5376" class="Symbol">:</a> <a id="5378" href="Prelude.Setoid.html#128" class="Record">ISetoid</a> <a id="5386" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
    <a id="5395" href="Nominal.Support.html#5364" class="Function">Setoid-Bool</a> <a id="5407" class="Symbol">=</a> <a id="5409" class="Symbol">λ</a> <a id="5411" class="Keyword">where</a>
      <a id="5423" class="Symbol">.</a><a id="5424" href="Prelude.Setoid.html#192" class="Field">relℓ</a> <a id="5429" class="Symbol">→</a> <a id="5431" href="Level.html#512" class="Function">0ℓ</a>
      <a id="5440" class="Symbol">.</a><a id="5441" href="Prelude.Setoid.html#210" class="Field Operator">_≈_</a>  <a id="5446" class="Symbol">→</a> <a id="5448" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a>

    <a id="SetoidLaws-Bool"></a><a id="5457" href="Nominal.Support.html#5457" class="Function">SetoidLaws-Bool</a> <a id="5473" class="Symbol">:</a> <a id="5475" href="Prelude.Setoid.html#534" class="Record">Setoid-Laws</a> <a id="5487" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
    <a id="5496" href="Nominal.Support.html#5457" class="Function">SetoidLaws-Bool</a> <a id="5512" class="Symbol">.</a><a id="5513" href="Prelude.Setoid.html#597" class="Field">isEquivalence</a> <a id="5527" class="Symbol">=</a> <a id="5529" href="Relation.Binary.PropositionalEquality.Properties.html#3427" class="Function">PropEq.isEquivalence</a>

  <a id="5553" class="Keyword">postulate</a> <a id="x"></a><a id="5563" href="Nominal.Support.html#5563" class="Postulate">x</a> <a id="y"></a><a id="5565" href="Nominal.Support.html#5565" class="Postulate">y</a> <a id="5567" class="Symbol">:</a> <a id="5569" href="Nominal.Support.html#199" class="Bound">Atom</a>

  <a id="f"></a><a id="5577" href="Nominal.Support.html#5577" class="Function">f</a> <a id="5579" class="Symbol">:</a> <a id="5581" href="Nominal.Support.html#199" class="Bound">Atom</a> <a id="5586" class="Symbol">→</a> <a id="5588" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
  <a id="5595" href="Nominal.Support.html#5577" class="Function">f</a> <a id="5597" href="Nominal.Support.html#5597" class="Bound">z</a> <a id="5599" class="Symbol">=</a> <a id="5601" class="Symbol">(</a><a id="5602" href="Nominal.Support.html#5597" class="Bound">z</a> <a id="5604" href="Prelude.DecEq.Core.html#169" class="Function Operator">==</a> <a id="5607" href="Nominal.Support.html#5563" class="Postulate">x</a><a id="5608" class="Symbol">)</a> <a id="5610" href="Data.Bool.Base.html#1044" class="Function Operator">∨</a> <a id="5612" class="Symbol">(</a><a id="5613" href="Nominal.Support.html#5597" class="Bound">z</a> <a id="5615" href="Prelude.DecEq.Core.html#169" class="Function Operator">==</a> <a id="5618" href="Nominal.Support.html#5565" class="Postulate">y</a><a id="5619" class="Symbol">)</a>
  <a id="suppF"></a><a id="5623" href="Nominal.Support.html#5623" class="Function">suppF</a> <a id="5629" class="Symbol">=</a> <a id="5631" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5636" href="Nominal.Support.html#199" class="Bound">Atom</a> <a id="5641" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="5643" href="Nominal.Support.html#5563" class="Postulate">x</a> <a id="5645" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5647" href="Nominal.Support.html#5565" class="Postulate">y</a> <a id="5649" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5651" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="5656" class="Comment">-- fresh f = False</a>

  <a id="finF"></a><a id="5678" href="Nominal.Support.html#5678" class="Function">finF</a> <a id="5683" class="Symbol">:</a> <a id="5685" href="Nominal.Support.html#508" class="Function">FinSupp</a> <a id="5693" href="Nominal.Support.html#5577" class="Function">f</a>
  <a id="5697" href="Nominal.Support.html#5678" class="Function">finF</a> <a id="5702" class="Symbol">=</a> <a id="5704" href="Data.Product.html#2247" class="Function Operator">-,</a> <a id="5707" href="Nominal.Support.html#5964" class="Function">go</a>
    <a id="5714" class="Keyword">where</a>
      <a id="5726" href="Nominal.Support.html#5726" class="Function">∀x∉suppF</a> <a id="5735" class="Symbol">:</a> <a id="5737" class="Symbol">∀</a> <a id="5739" class="Symbol">{</a><a id="5740" href="Nominal.Support.html#5740" class="Bound">z</a><a id="5741" class="Symbol">}</a> <a id="5743" class="Symbol">→</a> <a id="5745" href="Nominal.Support.html#5740" class="Bound">z</a> <a id="5747" href="Data.List.Membership.Setoid.html#936" class="Function Operator">∉</a> <a id="5749" href="Nominal.Support.html#5623" class="Function">suppF</a> <a id="5755" class="Symbol">→</a> <a id="5757" href="Nominal.Support.html#5577" class="Function">f</a> <a id="5759" href="Nominal.Support.html#5740" class="Bound">z</a> <a id="5761" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5763" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
      <a id="5775" href="Nominal.Support.html#5726" class="Function">∀x∉suppF</a> <a id="5784" class="Symbol">{</a><a id="5785" href="Nominal.Support.html#5785" class="Bound">z</a><a id="5786" class="Symbol">}</a> <a id="5788" href="Nominal.Support.html#5788" class="Bound">z∉</a> <a id="5791" class="Keyword">with</a> <a id="5796" href="Nominal.Support.html#5785" class="Bound">z</a> <a id="5798" href="Prelude.DecEq.Core.html#137" class="Field Operator">≟</a> <a id="5800" href="Nominal.Support.html#5563" class="Postulate">x</a>
      <a id="5808" class="Symbol">...</a> <a id="5812" class="Symbol">|</a> <a id="5814" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="5818" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="5823" class="Symbol">=</a> <a id="5825" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="5832" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="5834" class="Bound">z∉</a> <a id="5837" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="5839" href="Data.List.Relation.Unary.Any.html#1219" class="InductiveConstructor">here</a> <a id="5844" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
      <a id="5855" class="Symbol">...</a> <a id="5859" class="Symbol">|</a> <a id="5861" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="5864" class="Symbol">_</a> <a id="5866" class="Keyword">with</a> <a id="5871" class="Bound">z</a> <a id="5873" href="Prelude.DecEq.Core.html#137" class="Field Operator">≟</a> <a id="5875" href="Nominal.Support.html#5565" class="Postulate">y</a>
      <a id="5883" class="Symbol">...</a> <a id="5887" class="Symbol">|</a> <a id="5889" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="5893" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="5898" class="Symbol">=</a> <a id="5900" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="5907" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="5909" class="Bound">z∉</a> <a id="5912" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="5914" href="Data.List.Relation.Unary.Any.html#1272" class="InductiveConstructor">there</a> <a id="5920" href="Function.Base.html#3839" class="Function Operator">$′</a> <a id="5923" href="Data.List.Relation.Unary.Any.html#1219" class="InductiveConstructor">here</a> <a id="5928" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
      <a id="5939" class="Symbol">...</a> <a id="5943" class="Symbol">|</a> <a id="5945" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="5948" class="Symbol">_</a> <a id="5950" class="Symbol">=</a> <a id="5952" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

      <a id="5964" href="Nominal.Support.html#5964" class="Function">go</a> <a id="5967" class="Symbol">:</a> <a id="5969" class="Symbol">∀</a> <a id="5971" href="Nominal.Support.html#5971" class="Bound">𝕒</a> <a id="5973" href="Nominal.Support.html#5973" class="Bound">𝕓</a> <a id="5975" class="Symbol">→</a> <a id="5977" href="Nominal.Support.html#5971" class="Bound">𝕒</a> <a id="5979" href="Data.List.Membership.Setoid.html#936" class="Function Operator">∉</a> <a id="5981" href="Nominal.Support.html#5623" class="Function">suppF</a> <a id="5987" class="Symbol">→</a> <a id="5989" href="Nominal.Support.html#5973" class="Bound">𝕓</a> <a id="5991" href="Data.List.Membership.Setoid.html#936" class="Function Operator">∉</a> <a id="5993" href="Nominal.Support.html#5623" class="Function">suppF</a> <a id="5999" class="Symbol">→</a> <a id="6001" href="Nominal.Support.html#5577" class="Function">f</a> <a id="6003" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="6005" href="Nominal.Swap.Base.html#430" class="Field">swap</a> <a id="6010" href="Nominal.Support.html#5973" class="Bound">𝕓</a> <a id="6012" href="Nominal.Support.html#5971" class="Bound">𝕒</a> <a id="6014" href="Relation.Binary.PropositionalEquality.html#1471" class="Function Operator">≗</a> <a id="6016" href="Nominal.Support.html#5577" class="Function">f</a>
      <a id="6024" href="Nominal.Support.html#5964" class="Function">go</a> <a id="6027" href="Nominal.Support.html#6027" class="Bound">𝕒</a> <a id="6029" href="Nominal.Support.html#6029" class="Bound">𝕓</a> <a id="6031" href="Nominal.Support.html#6031" class="Bound">𝕒∉</a> <a id="6034" href="Nominal.Support.html#6034" class="Bound">𝕓∉</a> <a id="6037" href="Nominal.Support.html#6037" class="Bound">z</a> <a id="6039" class="Keyword">with</a> <a id="6044" href="Nominal.Support.html#6037" class="Bound">z</a> <a id="6046" href="Prelude.DecEq.Core.html#137" class="Field Operator">≟</a> <a id="6048" href="Nominal.Support.html#6029" class="Bound">𝕓</a>
      <a id="6056" class="Symbol">...</a> <a id="6060" class="Symbol">|</a> <a id="6062" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="6066" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="6071" class="Keyword">rewrite</a> <a id="6079" href="Nominal.Support.html#5726" class="Function">∀x∉suppF</a> <a id="6088" class="Bound">𝕒∉</a> <a id="6091" class="Symbol">|</a> <a id="6093" href="Nominal.Support.html#5726" class="Function">∀x∉suppF</a> <a id="6102" class="Bound">𝕓∉</a> <a id="6105" class="Symbol">=</a> <a id="6107" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
      <a id="6118" class="Symbol">...</a> <a id="6122" class="Symbol">|</a> <a id="6124" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="6127" class="Symbol">_</a> <a id="6129" class="Keyword">with</a> <a id="6134" class="Bound">z</a> <a id="6136" href="Prelude.DecEq.Core.html#137" class="Field Operator">≟</a> <a id="6138" class="Bound">𝕒</a>
      <a id="6146" class="Symbol">...</a> <a id="6150" class="Symbol">|</a> <a id="6152" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="6156" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="6161" class="Keyword">rewrite</a> <a id="6169" href="Nominal.Support.html#5726" class="Function">∀x∉suppF</a> <a id="6178" class="Bound">𝕒∉</a> <a id="6181" class="Symbol">|</a> <a id="6183" href="Nominal.Support.html#5726" class="Function">∀x∉suppF</a> <a id="6192" class="Bound">𝕓∉</a> <a id="6195" class="Symbol">=</a> <a id="6197" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
      <a id="6208" class="Symbol">...</a> <a id="6212" class="Symbol">|</a> <a id="6214" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="6217" class="Symbol">_</a> <a id="6219" class="Symbol">=</a> <a id="6221" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

  <a id="6229" href="Nominal.Support.html#6229" class="Function">_</a> <a id="6231" class="Symbol">=</a> <a id="6233" href="Nominal.Support.html#5678" class="Function">finF</a> <a id="6238" class="Symbol">.</a><a id="6239" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="6245" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6247" href="Nominal.Support.html#5623" class="Function">suppF</a>
    <a id="6257" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="6259" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

  <a id="g"></a><a id="6267" href="Nominal.Support.html#6267" class="Function">g</a> <a id="6269" class="Symbol">:</a> <a id="6271" href="Nominal.Support.html#199" class="Bound">Atom</a> <a id="6276" class="Symbol">→</a> <a id="6278" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
  <a id="6285" href="Nominal.Support.html#6267" class="Function">g</a> <a id="6287" href="Nominal.Support.html#6287" class="Bound">z</a> <a id="6289" class="Symbol">=</a> <a id="6291" class="Symbol">(</a><a id="6292" href="Nominal.Support.html#6287" class="Bound">z</a> <a id="6294" href="Prelude.DecEq.Core.html#213" class="Function Operator">≠</a> <a id="6296" href="Nominal.Support.html#5563" class="Postulate">x</a><a id="6297" class="Symbol">)</a> <a id="6299" href="Data.Bool.Base.html#986" class="Function Operator">∧</a> <a id="6301" class="Symbol">(</a><a id="6302" href="Nominal.Support.html#6287" class="Bound">z</a> <a id="6304" href="Prelude.DecEq.Core.html#213" class="Function Operator">≠</a> <a id="6306" href="Nominal.Support.html#5565" class="Postulate">y</a><a id="6307" class="Symbol">)</a>
  <a id="suppG"></a><a id="6311" href="Nominal.Support.html#6311" class="Function">suppG</a> <a id="6317" class="Symbol">=</a> <a id="6319" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="6324" href="Nominal.Support.html#199" class="Bound">Atom</a> <a id="6329" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="6331" href="Nominal.Support.html#5563" class="Postulate">x</a> <a id="6333" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6335" href="Nominal.Support.html#5565" class="Postulate">y</a> <a id="6337" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6339" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="6344" class="Comment">-- fresh g = True</a>
  <a id="6364" class="Comment">-- NB: g is infinite, but has finite support!</a>

  <a id="finG"></a><a id="6413" href="Nominal.Support.html#6413" class="Function">finG</a> <a id="6418" class="Symbol">:</a> <a id="6420" href="Nominal.Support.html#508" class="Function">FinSupp</a> <a id="6428" href="Nominal.Support.html#6267" class="Function">g</a>
  <a id="6432" href="Nominal.Support.html#6413" class="Function">finG</a> <a id="6437" class="Symbol">=</a> <a id="6439" href="Data.Product.html#2247" class="Function Operator">-,</a> <a id="6442" href="Nominal.Support.html#6698" class="Function">go</a>
    <a id="6449" class="Keyword">where</a>
      <a id="6461" href="Nominal.Support.html#6461" class="Function">∀x∉suppG</a> <a id="6470" class="Symbol">:</a> <a id="6472" class="Symbol">∀</a> <a id="6474" class="Symbol">{</a><a id="6475" href="Nominal.Support.html#6475" class="Bound">z</a><a id="6476" class="Symbol">}</a> <a id="6478" class="Symbol">→</a> <a id="6480" href="Nominal.Support.html#6475" class="Bound">z</a> <a id="6482" href="Data.List.Membership.Setoid.html#936" class="Function Operator">∉</a> <a id="6484" href="Nominal.Support.html#6311" class="Function">suppG</a> <a id="6490" class="Symbol">→</a> <a id="6492" href="Nominal.Support.html#6267" class="Function">g</a> <a id="6494" href="Nominal.Support.html#6475" class="Bound">z</a> <a id="6496" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6498" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>
      <a id="6509" href="Nominal.Support.html#6461" class="Function">∀x∉suppG</a> <a id="6518" class="Symbol">{</a><a id="6519" href="Nominal.Support.html#6519" class="Bound">z</a><a id="6520" class="Symbol">}</a> <a id="6522" href="Nominal.Support.html#6522" class="Bound">z∉</a> <a id="6525" class="Keyword">with</a> <a id="6530" href="Nominal.Support.html#6519" class="Bound">z</a> <a id="6532" href="Prelude.DecEq.Core.html#137" class="Field Operator">≟</a> <a id="6534" href="Nominal.Support.html#5563" class="Postulate">x</a>
      <a id="6542" class="Symbol">...</a> <a id="6546" class="Symbol">|</a> <a id="6548" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="6552" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="6557" class="Symbol">=</a> <a id="6559" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="6566" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="6568" class="Bound">z∉</a> <a id="6571" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="6573" href="Data.List.Relation.Unary.Any.html#1219" class="InductiveConstructor">here</a> <a id="6578" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
      <a id="6589" class="Symbol">...</a> <a id="6593" class="Symbol">|</a> <a id="6595" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="6598" class="Symbol">_</a> <a id="6600" class="Keyword">with</a> <a id="6605" class="Bound">z</a> <a id="6607" href="Prelude.DecEq.Core.html#137" class="Field Operator">≟</a> <a id="6609" href="Nominal.Support.html#5565" class="Postulate">y</a>
      <a id="6617" class="Symbol">...</a> <a id="6621" class="Symbol">|</a> <a id="6623" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="6627" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="6632" class="Symbol">=</a> <a id="6634" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="6641" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="6643" class="Bound">z∉</a> <a id="6646" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="6648" href="Data.List.Relation.Unary.Any.html#1272" class="InductiveConstructor">there</a> <a id="6654" href="Function.Base.html#3839" class="Function Operator">$′</a> <a id="6657" href="Data.List.Relation.Unary.Any.html#1219" class="InductiveConstructor">here</a> <a id="6662" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
      <a id="6673" class="Symbol">...</a> <a id="6677" class="Symbol">|</a> <a id="6679" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="6682" class="Symbol">_</a> <a id="6684" class="Symbol">=</a> <a id="6686" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

      <a id="6698" href="Nominal.Support.html#6698" class="Function">go</a> <a id="6701" class="Symbol">:</a> <a id="6703" class="Symbol">∀</a> <a id="6705" href="Nominal.Support.html#6705" class="Bound">𝕒</a> <a id="6707" href="Nominal.Support.html#6707" class="Bound">𝕓</a> <a id="6709" class="Symbol">→</a> <a id="6711" href="Nominal.Support.html#6705" class="Bound">𝕒</a> <a id="6713" href="Data.List.Membership.Setoid.html#936" class="Function Operator">∉</a> <a id="6715" href="Nominal.Support.html#6311" class="Function">suppG</a> <a id="6721" class="Symbol">→</a> <a id="6723" href="Nominal.Support.html#6707" class="Bound">𝕓</a> <a id="6725" href="Data.List.Membership.Setoid.html#936" class="Function Operator">∉</a> <a id="6727" href="Nominal.Support.html#6311" class="Function">suppG</a> <a id="6733" class="Symbol">→</a> <a id="6735" href="Nominal.Support.html#6267" class="Function">g</a> <a id="6737" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="6739" href="Nominal.Swap.Base.html#430" class="Field">swap</a> <a id="6744" href="Nominal.Support.html#6707" class="Bound">𝕓</a> <a id="6746" href="Nominal.Support.html#6705" class="Bound">𝕒</a> <a id="6748" href="Relation.Binary.PropositionalEquality.html#1471" class="Function Operator">≗</a> <a id="6750" href="Nominal.Support.html#6267" class="Function">g</a>
      <a id="6758" href="Nominal.Support.html#6698" class="Function">go</a> <a id="6761" href="Nominal.Support.html#6761" class="Bound">𝕒</a> <a id="6763" href="Nominal.Support.html#6763" class="Bound">𝕓</a> <a id="6765" href="Nominal.Support.html#6765" class="Bound">𝕒∉</a> <a id="6768" href="Nominal.Support.html#6768" class="Bound">𝕓∉</a> <a id="6771" href="Nominal.Support.html#6771" class="Bound">z</a> <a id="6773" class="Keyword">with</a> <a id="6778" href="Nominal.Support.html#6771" class="Bound">z</a> <a id="6780" href="Prelude.DecEq.Core.html#137" class="Field Operator">≟</a> <a id="6782" href="Nominal.Support.html#6763" class="Bound">𝕓</a>
      <a id="6790" class="Symbol">...</a> <a id="6794" class="Symbol">|</a> <a id="6796" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="6800" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="6805" class="Keyword">rewrite</a> <a id="6813" href="Nominal.Support.html#6461" class="Function">∀x∉suppG</a> <a id="6822" class="Bound">𝕒∉</a> <a id="6825" class="Symbol">|</a> <a id="6827" href="Nominal.Support.html#6461" class="Function">∀x∉suppG</a> <a id="6836" class="Bound">𝕓∉</a> <a id="6839" class="Symbol">=</a> <a id="6841" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
      <a id="6852" class="Symbol">...</a> <a id="6856" class="Symbol">|</a> <a id="6858" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="6861" class="Symbol">_</a> <a id="6863" class="Keyword">with</a> <a id="6868" class="Bound">z</a> <a id="6870" href="Prelude.DecEq.Core.html#137" class="Field Operator">≟</a> <a id="6872" class="Bound">𝕒</a>
      <a id="6880" class="Symbol">...</a> <a id="6884" class="Symbol">|</a> <a id="6886" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="6890" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="6895" class="Keyword">rewrite</a> <a id="6903" href="Nominal.Support.html#6461" class="Function">∀x∉suppG</a> <a id="6912" class="Bound">𝕒∉</a> <a id="6915" class="Symbol">|</a> <a id="6917" href="Nominal.Support.html#6461" class="Function">∀x∉suppG</a> <a id="6926" class="Bound">𝕓∉</a> <a id="6929" class="Symbol">=</a> <a id="6931" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
      <a id="6942" class="Symbol">...</a> <a id="6946" class="Symbol">|</a> <a id="6948" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="6951" class="Symbol">_</a> <a id="6953" class="Symbol">=</a> <a id="6955" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

  <a id="6963" class="Comment">-- T0D0: example where _≗_ is not the proper notion of equality</a>

  <a id="7030" class="Comment">-- module _ ⦃ _ : Toℕ Atom ⦄ where</a>

  <a id="7068" class="Comment">--   h : Atom → Bool</a>
  <a id="7091" class="Comment">--   h z = even? (toℕ z)</a>
  <a id="7118" class="Comment">--   -- ∄ supp h ⇔ ∄ fresh h</a>

<a id="7148" class="Comment">-- Find the non-finSupp swappable example.</a>
<a id="7191" class="Comment">-- ∙ ZFA ↝ ZFA+choice</a>
<a id="7213" class="Comment">-- ∙ the set of all total orderings on atoms</a>
<a id="7258" class="Comment">-- (empty support on the outside, infinite support inside each order)</a>
<a id="7328" class="Comment">-- ∙ FOL: ultra-filter construction</a>
</pre></body></html>