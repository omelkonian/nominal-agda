<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Nominal.Support</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/nominal-agda/tree/master/Nominal/Support.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="25" class="Symbol">;</a> <a id="27" class="Keyword">open</a> <a id="32" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="42" class="Keyword">open</a> <a id="47" href="Prelude.Init.html#7133" class="Module">L.Mem</a>
<a id="53" class="Keyword">open</a> <a id="58" class="Keyword">import</a> <a id="65" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="79" class="Keyword">open</a> <a id="84" class="Keyword">import</a> <a id="91" href="Prelude.Setoid.html" class="Module">Prelude.Setoid</a>
<a id="106" class="Keyword">open</a> <a id="111" class="Keyword">import</a> <a id="118" href="Prelude.InfEnumerable.html" class="Module">Prelude.InfEnumerable</a>
<a id="140" class="Keyword">open</a> <a id="145" class="Keyword">import</a> <a id="152" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>

<a id="176" class="Keyword">module</a> <a id="183" href="Nominal.Support.html" class="Module">Nominal.Support</a> <a id="199" class="Symbol">(</a><a id="200" href="Nominal.Support.html#200" class="Bound">Atom</a> <a id="205" class="Symbol">:</a> <a id="207" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="211" class="Symbol">)</a> <a id="213" class="Symbol">⦃</a> <a id="215" href="Nominal.Support.html#215" class="Bound">_</a> <a id="217" class="Symbol">:</a> <a id="219" href="Prelude.DecEq.Core.html#148" class="Record">DecEq</a> <a id="225" href="Nominal.Support.html#200" class="Bound">Atom</a> <a id="230" class="Symbol">⦄</a> <a id="232" class="Symbol">⦃</a> <a id="234" href="Nominal.Support.html#234" class="Bound">_</a> <a id="236" class="Symbol">:</a> <a id="238" href="Prelude.InfEnumerable.html#663" class="Record">Enumerable∞</a> <a id="250" href="Nominal.Support.html#200" class="Bound">Atom</a> <a id="255" class="Symbol">⦄</a> <a id="257" class="Keyword">where</a>

<a id="264" class="Keyword">open</a> <a id="269" class="Keyword">import</a> <a id="276" href="Nominal.New.html" class="Module">Nominal.New</a>  <a id="289" href="Nominal.Support.html#200" class="Bound">Atom</a>
<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Nominal.Swap.html" class="Module">Nominal.Swap</a> <a id="319" href="Nominal.Support.html#200" class="Bound">Atom</a>

<a id="freshAtom"></a><a id="325" href="Nominal.Support.html#325" class="Function">freshAtom</a> <a id="335" class="Symbol">:</a> <a id="337" href="Nominal.Swap.Base.html#318" class="Function">Atoms</a> <a id="343" class="Symbol">→</a> <a id="345" href="Nominal.Support.html#200" class="Bound">Atom</a>
<a id="350" href="Nominal.Support.html#325" class="Function">freshAtom</a> <a id="360" class="Symbol">=</a> <a id="362" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="368" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="370" href="Prelude.InfEnumerable.html#1923" class="Function">minFresh</a>

<a id="freshAtom∉"></a><a id="380" href="Nominal.Support.html#380" class="Function">freshAtom∉</a> <a id="391" class="Symbol">:</a> <a id="393" class="Symbol">∀</a> <a id="395" class="Symbol">{</a><a id="396" href="Nominal.Support.html#396" class="Bound">xs</a> <a id="399" class="Symbol">:</a> <a id="401" href="Nominal.Swap.Base.html#318" class="Function">Atoms</a><a id="406" class="Symbol">}</a> <a id="408" class="Symbol">→</a> <a id="410" href="Nominal.Support.html#325" class="Function">freshAtom</a> <a id="420" href="Nominal.Support.html#396" class="Bound">xs</a> <a id="423" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="425" href="Nominal.Support.html#396" class="Bound">xs</a>
<a id="428" href="Nominal.Support.html#380" class="Function">freshAtom∉</a> <a id="439" class="Symbol">{</a><a id="440" href="Nominal.Support.html#440" class="Bound">xs</a><a id="442" class="Symbol">}</a> <a id="444" class="Symbol">=</a> <a id="446" href="Prelude.InfEnumerable.html#1923" class="Function">minFresh</a> <a id="455" href="Nominal.Support.html#440" class="Bound">xs</a> <a id="458" class="Symbol">.</a><a id="459" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>

<a id="466" class="Keyword">private</a> <a id="474" class="Keyword">variable</a> <a id="483" href="Nominal.Support.html#483" class="Generalizable">A</a> <a id="485" class="Symbol">:</a> <a id="487" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="492" href="Prelude.Init.html#261" class="Generalizable">ℓ</a><a id="493" class="Symbol">;</a> <a id="495" href="Nominal.Support.html#495" class="Generalizable">B</a> <a id="497" class="Symbol">:</a> <a id="499" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="504" href="Prelude.Init.html#263" class="Generalizable">ℓ′</a>

<a id="508" class="Keyword">module</a> <a id="515" href="Nominal.Support.html#515" class="Module">_</a> <a id="517" class="Symbol">⦃</a> <a id="519" href="Nominal.Support.html#519" class="Bound">_</a> <a id="521" class="Symbol">:</a> <a id="523" href="Nominal.Swap.Base.html#401" class="Record">Swap</a> <a id="528" href="Nominal.Support.html#483" class="Generalizable">A</a> <a id="530" class="Symbol">⦄</a> <a id="532" class="Symbol">⦃</a> <a id="534" href="Nominal.Support.html#534" class="Bound">_</a> <a id="536" class="Symbol">:</a> <a id="538" href="Prelude.Setoid.Core.html#107" class="Record">ISetoid</a> <a id="546" href="Nominal.Support.html#483" class="Generalizable">A</a> <a id="548" class="Symbol">⦄</a> <a id="550" class="Keyword">where</a>

  <a id="559" href="Nominal.Support.html#559" class="Function">∃FinSupp</a> <a id="568" href="Nominal.Support.html#568" class="Function">FinSupp</a> <a id="576" href="Nominal.Support.html#576" class="Function">∃Equivariant′</a> <a id="590" href="Nominal.Support.html#590" class="Function">Equivariant′</a> <a id="603" class="Symbol">:</a> <a id="605" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="610" href="Nominal.Support.html#528" class="Bound">A</a> <a id="612" class="Symbol">_</a>

  <a id="617" class="Comment">-- NB: this is an over-approximation!</a>
  <a id="657" class="Comment">-- e.g. ∃supp (ƛ x ⇒ x) = {x}</a>
  <a id="689" href="Nominal.Support.html#559" class="Function">∃FinSupp</a> <a id="698" href="Nominal.Support.html#698" class="Bound">x</a> <a id="700" class="Symbol">=</a> <a id="702" href="Nominal.New.html#827" class="Function">И²</a> <a id="705" class="Symbol">λ</a> <a id="707" href="Nominal.Support.html#707" class="Bound">𝕒</a> <a id="709" href="Nominal.Support.html#709" class="Bound">𝕓</a> <a id="711" class="Symbol">→</a> <a id="713" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="718" href="Nominal.Support.html#709" class="Bound">𝕓</a> <a id="720" href="Nominal.Support.html#707" class="Bound">𝕒</a> <a id="722" href="Nominal.Support.html#698" class="Bound">x</a> <a id="724" href="Prelude.Setoid.Core.html#191" class="Field Operator">≈</a> <a id="726" href="Nominal.Support.html#698" class="Bound">x</a>

  <a id="731" class="Comment">-- ** a proper notion of support</a>
  <a id="766" class="Comment">-- e.g. in λ-calculus this would correspond to the free variables of a term</a>
  <a id="844" href="Nominal.Support.html#568" class="Function">FinSupp</a> <a id="852" href="Nominal.Support.html#852" class="Bound">a</a> <a id="854" class="Symbol">=</a> <a id="856" href="Data.Product.html#1378" class="Function">∃</a> <a id="858" class="Symbol">λ</a> <a id="860" class="Symbol">(</a><a id="861" href="Nominal.Support.html#861" class="Bound">xs</a> <a id="864" class="Symbol">:</a> <a id="866" href="Nominal.Swap.Base.html#318" class="Function">Atoms</a><a id="871" class="Symbol">)</a> <a id="873" class="Symbol">→</a>
    <a id="879" class="Symbol">(∀</a> <a id="882" href="Nominal.Support.html#882" class="Bound">x</a> <a id="884" href="Nominal.Support.html#884" class="Bound">y</a> <a id="886" class="Symbol">→</a> <a id="888" href="Nominal.Support.html#882" class="Bound">x</a> <a id="890" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="892" href="Nominal.Support.html#861" class="Bound">xs</a> <a id="895" class="Symbol">→</a> <a id="897" href="Nominal.Support.html#884" class="Bound">y</a> <a id="899" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="901" href="Nominal.Support.html#861" class="Bound">xs</a> <a id="904" class="Symbol">→</a> <a id="906" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="911" href="Nominal.Support.html#884" class="Bound">y</a> <a id="913" href="Nominal.Support.html#882" class="Bound">x</a> <a id="915" href="Nominal.Support.html#852" class="Bound">a</a> <a id="917" href="Prelude.Setoid.Core.html#191" class="Field Operator">≈</a> <a id="919" href="Nominal.Support.html#852" class="Bound">a</a><a id="920" class="Symbol">)</a>
    <a id="926" href="Data.Product.html#1176" class="Function Operator">×</a>
    <a id="932" class="Symbol">(∀</a> <a id="935" href="Nominal.Support.html#935" class="Bound">x</a> <a id="937" href="Nominal.Support.html#937" class="Bound">y</a> <a id="939" class="Symbol">→</a> <a id="941" href="Nominal.Support.html#935" class="Bound">x</a> <a id="943" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="945" href="Nominal.Support.html#861" class="Bound">xs</a> <a id="948" class="Symbol">→</a> <a id="950" href="Nominal.Support.html#937" class="Bound">y</a> <a id="952" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="954" href="Nominal.Support.html#861" class="Bound">xs</a> <a id="957" class="Symbol">→</a> <a id="959" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="964" href="Nominal.Support.html#937" class="Bound">y</a> <a id="966" href="Nominal.Support.html#935" class="Bound">x</a> <a id="968" href="Nominal.Support.html#852" class="Bound">a</a> <a id="970" href="Prelude.Setoid.Core.html#211" class="Function Operator">≉</a> <a id="972" href="Nominal.Support.html#852" class="Bound">a</a><a id="973" class="Symbol">)</a>

  <a id="978" class="Comment">-- alternative definition of equivariance based on (finite) support</a>
  <a id="1048" class="Comment">--  * equivariant(x) := supp(x) = ∅</a>
  <a id="1086" href="Nominal.Support.html#576" class="Function">∃Equivariant′</a> <a id="1100" href="Nominal.Support.html#1100" class="Bound">x</a> <a id="1102" class="Symbol">=</a> <a id="1104" href="Data.Product.html#1378" class="Function">∃</a> <a id="1106" class="Symbol">λ</a> <a id="1108" class="Symbol">(</a><a id="1109" href="Nominal.Support.html#1109" class="Bound">fin-x</a> <a id="1115" class="Symbol">:</a> <a id="1117" href="Nominal.Support.html#559" class="Function">∃FinSupp</a> <a id="1126" href="Nominal.Support.html#1100" class="Bound">x</a><a id="1127" class="Symbol">)</a> <a id="1129" class="Symbol">→</a> <a id="1131" href="Nominal.Support.html#1109" class="Bound">fin-x</a> <a id="1137" class="Symbol">.</a><a id="1138" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="1144" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1146" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
  <a id="1151" href="Nominal.Support.html#590" class="Function">Equivariant′</a>  <a id="1165" href="Nominal.Support.html#1165" class="Bound">x</a> <a id="1167" class="Symbol">=</a> <a id="1169" href="Data.Product.html#1378" class="Function">∃</a> <a id="1171" class="Symbol">λ</a> <a id="1173" class="Symbol">(</a><a id="1174" href="Nominal.Support.html#1174" class="Bound">fin-x</a> <a id="1180" class="Symbol">:</a> <a id="1182" href="Nominal.Support.html#568" class="Function">FinSupp</a> <a id="1190" href="Nominal.Support.html#1165" class="Bound">x</a><a id="1191" class="Symbol">)</a>  <a id="1194" class="Symbol">→</a> <a id="1196" href="Nominal.Support.html#1174" class="Bound">fin-x</a> <a id="1202" class="Symbol">.</a><a id="1203" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="1209" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1211" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>

<a id="1215" class="Comment">-- counter-example: a function with infinite support</a>
<a id="1268" class="Comment">-- e.g. λ x → (x == 𝕒) ∨ (x == 𝕓)</a>

<a id="1303" class="Keyword">record</a> <a id="∃FinitelySupported"></a><a id="1310" href="Nominal.Support.html#1310" class="Record">∃FinitelySupported</a> <a id="1329" class="Symbol">(</a><a id="1330" href="Nominal.Support.html#1330" class="Bound">A</a> <a id="1332" class="Symbol">:</a> <a id="1334" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1339" href="Prelude.Init.html#261" class="Generalizable">ℓ</a><a id="1340" class="Symbol">)</a>
  <a id="1344" class="Symbol">⦃</a> <a id="1346" href="Nominal.Support.html#1346" class="Bound">_</a> <a id="1348" class="Symbol">:</a> <a id="1350" href="Prelude.Setoid.Core.html#107" class="Record">ISetoid</a> <a id="1358" href="Nominal.Support.html#1330" class="Bound">A</a> <a id="1360" class="Symbol">⦄</a> <a id="1362" class="Symbol">⦃</a> <a id="1364" href="Nominal.Support.html#1364" class="Bound">_</a> <a id="1366" class="Symbol">:</a> <a id="1368" href="Prelude.Setoid.Core.html#307" class="Record">SetoidLaws</a> <a id="1379" href="Nominal.Support.html#1330" class="Bound">A</a> <a id="1381" class="Symbol">⦄</a>
  <a id="1385" class="Symbol">⦃</a> <a id="1387" href="Nominal.Support.html#1387" class="Bound">_</a> <a id="1389" class="Symbol">:</a> <a id="1391" href="Nominal.Swap.Base.html#401" class="Record">Swap</a> <a id="1396" href="Nominal.Support.html#1330" class="Bound">A</a> <a id="1398" class="Symbol">⦄</a> <a id="1400" class="Symbol">⦃</a> <a id="1402" href="Nominal.Support.html#1402" class="Bound">_</a> <a id="1404" class="Symbol">:</a> <a id="1406" href="Nominal.Swap.Base.html#2374" class="Record">SwapLaws</a> <a id="1415" href="Nominal.Support.html#1330" class="Bound">A</a> <a id="1417" class="Symbol">⦄</a> <a id="1419" class="Symbol">:</a> <a id="1421" href="Agda.Primitive.html#375" class="Primitive">Typeω</a>
  <a id="1429" class="Keyword">where</a>

  <a id="1438" class="Keyword">field</a> <a id="∃FinitelySupported.∀∃fin"></a><a id="1444" href="Nominal.Support.html#1444" class="Field">∀∃fin</a> <a id="1450" class="Symbol">:</a> <a id="1452" href="Relation.Unary.html#3230" class="Function">Unary.Universal</a> <a id="1468" href="Nominal.Support.html#559" class="Function">∃FinSupp</a>

  <a id="∃FinitelySupported.∃supp"></a><a id="1480" href="Nominal.Support.html#1480" class="Function">∃supp</a> <a id="1486" class="Symbol">:</a> <a id="1488" href="Nominal.Support.html#1330" class="Bound">A</a> <a id="1490" class="Symbol">→</a> <a id="1492" href="Nominal.Swap.Base.html#318" class="Function">Atoms</a>
  <a id="1500" href="Nominal.Support.html#1480" class="Function">∃supp</a> <a id="1506" class="Symbol">=</a> <a id="1508" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="1514" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1516" href="Nominal.Support.html#1444" class="Field">∀∃fin</a>

  <a id="∃FinitelySupported._∙∃supp"></a><a id="1525" href="Nominal.Support.html#1525" class="Function Operator">_∙∃supp</a> <a id="1533" class="Symbol">=</a> <a id="1535" href="Nominal.Support.html#1480" class="Function">∃supp</a>

  <a id="1544" class="Comment">-- T0D0: extract minimal support</a>
  <a id="1579" class="Comment">--   i.e. filter out elements of `supp` that already satisfy P</a>
  <a id="1644" class="Comment">-- module _ ⦃ _ : IDecSetoid A ⦄ where</a>
  <a id="1685" class="Comment">--   minSupp : A → Atoms</a>
  <a id="1712" class="Comment">--   minSupp a =</a>
  <a id="1731" class="Comment">--     let xs , P = ∀fin a</a>
  <a id="1760" class="Comment">--     in  filter ? xs</a>
  <a id="1785" class="Comment">--     ?</a>
  <a id="1796" class="Comment">-- NB: doesn&#39;t hold in general ⇒ leads to a solution to the halting problem</a>
  <a id="1874" class="Comment">-- T0D0: find a characterization of this decidable sub-space</a>

  <a id="∃FinitelySupported.∃fresh∉"></a><a id="1938" href="Nominal.Support.html#1938" class="Function">∃fresh∉</a> <a id="1946" class="Symbol">:</a> <a id="1948" class="Symbol">(</a><a id="1949" href="Nominal.Support.html#1949" class="Bound">a</a> <a id="1951" class="Symbol">:</a> <a id="1953" href="Nominal.Support.html#1330" class="Bound">A</a><a id="1954" class="Symbol">)</a> <a id="1956" class="Symbol">→</a> <a id="1958" href="Data.Product.html#1378" class="Function">∃</a> <a id="1960" class="Symbol">(</a><a id="1961" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="1964" href="Nominal.Support.html#1480" class="Function">∃supp</a> <a id="1970" href="Nominal.Support.html#1949" class="Bound">a</a><a id="1971" class="Symbol">)</a>
  <a id="1975" href="Nominal.Support.html#1938" class="Function">∃fresh∉</a> <a id="1983" class="Symbol">=</a> <a id="1985" href="Prelude.InfEnumerable.html#1923" class="Function">minFresh</a> <a id="1994" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1996" href="Nominal.Support.html#1480" class="Function">∃supp</a>
  <a id="2004" class="Comment">-- NB: optimized fresh that generates the *least* element</a>

  <a id="∃FinitelySupported.∃fresh-var"></a><a id="2065" href="Nominal.Support.html#2065" class="Function">∃fresh-var</a> <a id="2076" class="Symbol">:</a> <a id="2078" href="Nominal.Support.html#1330" class="Bound">A</a> <a id="2080" class="Symbol">→</a> <a id="2082" href="Nominal.Support.html#200" class="Bound">Atom</a>
  <a id="2089" href="Nominal.Support.html#2065" class="Function">∃fresh-var</a> <a id="2100" class="Symbol">=</a> <a id="2102" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="2108" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="2110" href="Nominal.Support.html#1938" class="Function">∃fresh∉</a>

  <a id="∃FinitelySupported.swap-∃fresh"></a><a id="2121" href="Nominal.Support.html#2121" class="Function">swap-∃fresh</a> <a id="2133" class="Symbol">:</a> <a id="2135" class="Symbol">∀</a> <a id="2137" class="Symbol">{</a><a id="2138" href="Nominal.Support.html#2138" class="Bound">𝕒</a> <a id="2140" href="Nominal.Support.html#2140" class="Bound">𝕓</a><a id="2141" class="Symbol">}</a> <a id="2143" class="Symbol">(</a><a id="2144" href="Nominal.Support.html#2144" class="Bound">x</a> <a id="2146" class="Symbol">:</a> <a id="2148" href="Nominal.Support.html#1330" class="Bound">A</a><a id="2149" class="Symbol">)</a> <a id="2151" class="Symbol">→</a>
    <a id="2157" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="2159" href="Nominal.Support.html#2138" class="Bound">𝕒</a> <a id="2161" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="2163" href="Nominal.Support.html#1480" class="Function">∃supp</a> <a id="2169" href="Nominal.Support.html#2144" class="Bound">x</a>
    <a id="2175" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="2177" href="Nominal.Support.html#2140" class="Bound">𝕓</a> <a id="2179" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="2181" href="Nominal.Support.html#1480" class="Function">∃supp</a> <a id="2187" href="Nominal.Support.html#2144" class="Bound">x</a>
      <a id="2195" href="Prelude.InferenceRules.html#14232" class="Function Operator">────────────────</a>
      <a id="2218" href="Nominal.Swap.Base.html#620" class="Function Operator">⦅</a> <a id="2220" href="Nominal.Support.html#2138" class="Bound">𝕒</a> <a id="2222" href="Nominal.Swap.Base.html#620" class="Function Operator">↔</a> <a id="2224" href="Nominal.Support.html#2140" class="Bound">𝕓</a> <a id="2226" href="Nominal.Swap.Base.html#620" class="Function Operator">⦆</a> <a id="2228" href="Nominal.Support.html#2144" class="Bound">x</a> <a id="2230" href="Prelude.Setoid.Core.html#191" class="Field Operator">≈</a> <a id="2232" href="Nominal.Support.html#2144" class="Bound">x</a>
  <a id="2236" href="Nominal.Support.html#2121" class="Function">swap-∃fresh</a> <a id="2248" href="Nominal.Support.html#2248" class="Bound">x</a> <a id="2250" class="Symbol">=</a> <a id="2252" href="Function.Base.html#1563" class="Function">flip</a> <a id="2257" class="Symbol">(</a><a id="2258" href="Nominal.Support.html#1444" class="Field">∀∃fin</a> <a id="2264" href="Nominal.Support.html#2248" class="Bound">x</a> <a id="2266" class="Symbol">.</a><a id="2267" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="2273" class="Symbol">_</a> <a id="2275" class="Symbol">_)</a>

<a id="2279" class="Comment">{-
  supp-swap : ∀ {𝕒 𝕓} (t : A) → supp (swap 𝕒 𝕓 t) ⊆ 𝕒 ∷ 𝕓 ∷ t ∷ []
  -- ≡ swap 𝕒 𝕓 (supp t) -- [swap 𝕒 𝕓 x₁, swap 𝕒 𝕓 x₂, ...]
  supp-swap {x}{a}{b} x∉ = ?

  swap-∉ : ∀ {x 𝕒 𝕓} (t : A) → x ∉ supp t → swap 𝕒 𝕓 x ∉ supp (swap 𝕒 𝕓 t)
  -- T0D0: add hypothesis `x ∉ [a, b]`
  swap-∉ {x}{a}{b} x∉
    with x ≟ a
  ... | yes refl
    -- b ∉ supp (swap a b t)
    = ?
  ... | no x≢a
    with x ≟ b
  ... | yes refl
    -- a ∉ supp (swap a b t)
    = ?
  ... | no x≢b
    -- x ∉ supp (swap a b t)
    = ?
-}</a>
<a id="2783" class="Keyword">open</a> <a id="2788" href="Nominal.Support.html#1310" class="Module">∃FinitelySupported</a> <a id="2807" class="Symbol">⦃...⦄</a> <a id="2813" class="Keyword">public</a>

<a id="2821" class="Keyword">instance</a>
  <a id="∃FinSupp-Atom"></a><a id="2832" href="Nominal.Support.html#2832" class="Function">∃FinSupp-Atom</a> <a id="2846" class="Symbol">:</a> <a id="2848" href="Nominal.Support.html#1310" class="Record">∃FinitelySupported</a> <a id="2867" href="Nominal.Support.html#200" class="Bound">Atom</a>
  <a id="2874" href="Nominal.Support.html#2832" class="Function">∃FinSupp-Atom</a> <a id="2888" class="Symbol">.</a><a id="2889" href="Nominal.Support.html#1444" class="Field">∀∃fin</a> <a id="2895" href="Nominal.Support.html#2895" class="Bound">𝕒</a> <a id="2897" class="Symbol">=</a> <a id="2899" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="2901" href="Nominal.Support.html#2895" class="Bound">𝕒</a> <a id="2903" href="Data.List.Base.html#5034" class="Function Operator">]</a> <a id="2905" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2907" class="Symbol">λ</a> <a id="2909" href="Nominal.Support.html#2909" class="Bound">_</a> <a id="2911" href="Nominal.Support.html#2911" class="Bound">_</a> <a id="2913" href="Nominal.Support.html#2913" class="Bound">y∉</a> <a id="2916" href="Nominal.Support.html#2916" class="Bound">z∉</a> <a id="2919" class="Symbol">→</a>
    <a id="2925" href="Nominal.Swap.Base.html#1946" class="Function">swap-noop</a> <a id="2935" class="Symbol">_</a> <a id="2937" class="Symbol">_</a> <a id="2939" class="Symbol">_</a> <a id="2941" class="Symbol">λ</a> <a id="2943" class="Keyword">where</a> <a id="2949" href="Nominal.Swap.Base.html#2172" class="InductiveConstructor">𝟘</a> <a id="2951" class="Symbol">→</a> <a id="2953" href="Nominal.Support.html#2916" class="Bound">z∉</a> <a id="2956" href="Nominal.Swap.Base.html#2172" class="InductiveConstructor">𝟘</a><a id="2957" class="Symbol">;</a> <a id="2959" href="Nominal.Swap.Base.html#2194" class="InductiveConstructor">𝟙</a> <a id="2961" class="Symbol">→</a> <a id="2963" href="Nominal.Support.html#2913" class="Bound">y∉</a> <a id="2966" href="Nominal.Swap.Base.html#2172" class="InductiveConstructor">𝟘</a>

<a id="2969" class="Comment">-- T0D0: generalize this to more complex types than Atom (c.f. supp-swap above)</a>
<a id="∃supp-swap-atom"></a><a id="3049" href="Nominal.Support.html#3049" class="Function">∃supp-swap-atom</a> <a id="3065" class="Symbol">:</a> <a id="3067" class="Symbol">∀</a> <a id="3069" class="Symbol">{</a><a id="3070" href="Nominal.Support.html#3070" class="Bound">𝕒</a> <a id="3072" href="Nominal.Support.html#3072" class="Bound">𝕓</a><a id="3073" class="Symbol">}</a> <a id="3075" class="Symbol">(</a><a id="3076" href="Nominal.Support.html#3076" class="Bound">t</a> <a id="3078" class="Symbol">:</a> <a id="3080" href="Nominal.Support.html#200" class="Bound">Atom</a><a id="3084" class="Symbol">)</a> <a id="3086" class="Symbol">→</a> <a id="3088" href="Nominal.Support.html#1480" class="Function">∃supp</a> <a id="3094" class="Symbol">(</a><a id="3095" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="3100" href="Nominal.Support.html#3070" class="Bound">𝕒</a> <a id="3102" href="Nominal.Support.html#3072" class="Bound">𝕓</a> <a id="3104" href="Nominal.Support.html#3076" class="Bound">t</a><a id="3105" class="Symbol">)</a> <a id="3107" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="3109" href="Nominal.Support.html#3070" class="Bound">𝕒</a> <a id="3111" class="InductiveConstructor Operator">∷</a> <a id="3113" href="Nominal.Support.html#3072" class="Bound">𝕓</a> <a id="3115" class="InductiveConstructor Operator">∷</a> <a id="3117" href="Nominal.Support.html#3076" class="Bound">t</a> <a id="3119" class="InductiveConstructor Operator">∷</a> <a id="3121" class="InductiveConstructor">[]</a>
<a id="3124" class="Comment">-- supp (swap 𝕒 𝕓 t) ≡ swap 𝕒 𝕓 (supp t)</a>
<a id="3165" href="Nominal.Support.html#3049" class="Function">∃supp-swap-atom</a> <a id="3181" class="Symbol">{</a><a id="3182" href="Nominal.Support.html#3182" class="Bound">a</a><a id="3183" class="Symbol">}{</a><a id="3185" href="Nominal.Support.html#3185" class="Bound">b</a><a id="3186" class="Symbol">}</a> <a id="3188" href="Nominal.Support.html#3188" class="Bound">t</a>
  <a id="3192" class="Keyword">with</a> <a id="3197" href="Nominal.Support.html#3188" class="Bound">t</a> <a id="3199" href="Prelude.DecEq.Core.html#190" class="Field Operator">≟</a> <a id="3201" href="Nominal.Support.html#3182" class="Bound">a</a>
<a id="3203" class="Symbol">...</a> <a id="3207" class="Symbol">|</a> <a id="3209" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="3213" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="3218" class="Symbol">=</a> <a id="3220" class="Symbol">λ</a> <a id="3222" class="Keyword">where</a> <a id="3228" href="Nominal.Swap.Base.html#2172" class="InductiveConstructor">𝟘</a> <a id="3230" class="Symbol">→</a> <a id="3232" href="Nominal.Swap.Base.html#2194" class="InductiveConstructor">𝟙</a>
<a id="3234" class="Symbol">...</a> <a id="3238" class="Symbol">|</a> <a id="3240" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="3243" class="Symbol">_</a>
  <a id="3247" class="Keyword">with</a> <a id="3252" class="Bound">t</a> <a id="3254" href="Prelude.DecEq.Core.html#190" class="Field Operator">≟</a> <a id="3256" class="Bound">b</a>
<a id="3258" class="Symbol">...</a> <a id="3262" class="Symbol">|</a> <a id="3264" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="3268" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="3273" class="Symbol">=</a> <a id="3275" class="Symbol">λ</a> <a id="3277" class="Keyword">where</a> <a id="3283" href="Nominal.Swap.Base.html#2172" class="InductiveConstructor">𝟘</a> <a id="3285" class="Symbol">→</a> <a id="3287" href="Nominal.Swap.Base.html#2172" class="InductiveConstructor">𝟘</a>
<a id="3289" class="Symbol">...</a> <a id="3293" class="Symbol">|</a> <a id="3295" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="3298" class="Symbol">_</a>     <a id="3304" class="Symbol">=</a> <a id="3306" class="Symbol">λ</a> <a id="3308" class="Keyword">where</a> <a id="3314" href="Nominal.Swap.Base.html#2172" class="InductiveConstructor">𝟘</a> <a id="3316" class="Symbol">→</a> <a id="3318" href="Nominal.Swap.Base.html#2214" class="InductiveConstructor">𝟚</a>

<a id="3321" class="Keyword">record</a> <a id="FinitelySupported"></a><a id="3328" href="Nominal.Support.html#3328" class="Record">FinitelySupported</a> <a id="3346" class="Symbol">(</a><a id="3347" href="Nominal.Support.html#3347" class="Bound">A</a> <a id="3349" class="Symbol">:</a> <a id="3351" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="3356" href="Prelude.Init.html#261" class="Generalizable">ℓ</a><a id="3357" class="Symbol">)</a>
  <a id="3361" class="Symbol">⦃</a> <a id="3363" href="Nominal.Support.html#3363" class="Bound">_</a> <a id="3365" class="Symbol">:</a> <a id="3367" href="Prelude.Setoid.Core.html#107" class="Record">ISetoid</a> <a id="3375" href="Nominal.Support.html#3347" class="Bound">A</a> <a id="3377" class="Symbol">⦄</a> <a id="3379" class="Symbol">⦃</a> <a id="3381" href="Nominal.Support.html#3381" class="Bound">_</a> <a id="3383" class="Symbol">:</a> <a id="3385" href="Prelude.Setoid.Core.html#307" class="Record">SetoidLaws</a> <a id="3396" href="Nominal.Support.html#3347" class="Bound">A</a> <a id="3398" class="Symbol">⦄</a>
  <a id="3402" class="Symbol">⦃</a> <a id="3404" href="Nominal.Support.html#3404" class="Bound">_</a> <a id="3406" class="Symbol">:</a> <a id="3408" href="Nominal.Swap.Base.html#401" class="Record">Swap</a> <a id="3413" href="Nominal.Support.html#3347" class="Bound">A</a> <a id="3415" class="Symbol">⦄</a> <a id="3417" class="Symbol">⦃</a> <a id="3419" href="Nominal.Support.html#3419" class="Bound">_</a> <a id="3421" class="Symbol">:</a> <a id="3423" href="Nominal.Swap.Base.html#2374" class="Record">SwapLaws</a> <a id="3432" href="Nominal.Support.html#3347" class="Bound">A</a> <a id="3434" class="Symbol">⦄</a> <a id="3436" class="Symbol">:</a> <a id="3438" href="Agda.Primitive.html#375" class="Primitive">Typeω</a>
  <a id="3446" class="Keyword">where</a>

  <a id="3455" class="Keyword">field</a> <a id="FinitelySupported.∀fin"></a><a id="3461" href="Nominal.Support.html#3461" class="Field">∀fin</a> <a id="3466" class="Symbol">:</a> <a id="3468" href="Relation.Unary.html#3230" class="Function">Unary.Universal</a> <a id="3484" href="Nominal.Support.html#568" class="Function">FinSupp</a>

  <a id="FinitelySupported.supp"></a><a id="3495" href="Nominal.Support.html#3495" class="Function">supp</a> <a id="3500" class="Symbol">:</a> <a id="3502" href="Nominal.Support.html#3347" class="Bound">A</a> <a id="3504" class="Symbol">→</a> <a id="3506" href="Nominal.Swap.Base.html#318" class="Function">Atoms</a>
  <a id="3514" href="Nominal.Support.html#3495" class="Function">supp</a> <a id="3519" class="Symbol">=</a> <a id="3521" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3527" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="3529" href="Nominal.Support.html#3461" class="Field">∀fin</a>

  <a id="FinitelySupported._∙supp"></a><a id="3537" href="Nominal.Support.html#3537" class="Function Operator">_∙supp</a> <a id="3544" class="Symbol">=</a> <a id="3546" href="Nominal.Support.html#3495" class="Function">supp</a>

  <a id="3554" class="Keyword">infix</a> <a id="3560" class="Number">4</a> <a id="3562" href="Nominal.Support.html#3568" class="Function Operator">_♯_</a>
  <a id="FinitelySupported._♯_"></a><a id="3568" href="Nominal.Support.html#3568" class="Function Operator">_♯_</a> <a id="3572" class="Symbol">:</a> <a id="3574" href="Nominal.Support.html#200" class="Bound">Atom</a> <a id="3579" class="Symbol">→</a> <a id="3581" href="Nominal.Support.html#3347" class="Bound">A</a> <a id="3583" class="Symbol">→</a> <a id="3585" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="3590" class="Symbol">_</a>
  <a id="3594" href="Nominal.Support.html#3594" class="Bound">𝕒</a> <a id="3596" href="Nominal.Support.html#3568" class="Function Operator">♯</a> <a id="3598" href="Nominal.Support.html#3598" class="Bound">x</a> <a id="3600" class="Symbol">=</a> <a id="3602" href="Nominal.Support.html#3594" class="Bound">𝕒</a> <a id="3604" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="3606" href="Nominal.Support.html#3495" class="Function">supp</a> <a id="3611" href="Nominal.Support.html#3598" class="Bound">x</a>

  <a id="FinitelySupported.fresh∉-min"></a><a id="3616" href="Nominal.Support.html#3616" class="Function">fresh∉-min</a> <a id="3627" class="Symbol">:</a> <a id="3629" class="Symbol">(</a><a id="3630" href="Nominal.Support.html#3630" class="Bound">a</a> <a id="3632" class="Symbol">:</a> <a id="3634" href="Nominal.Support.html#3347" class="Bound">A</a><a id="3635" class="Symbol">)</a> <a id="3637" class="Symbol">→</a> <a id="3639" href="Data.Product.html#1378" class="Function">∃</a> <a id="3641" class="Symbol">(</a><a id="3642" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="3645" href="Nominal.Support.html#3495" class="Function">supp</a> <a id="3650" href="Nominal.Support.html#3630" class="Bound">a</a><a id="3651" class="Symbol">)</a>
  <a id="3655" href="Nominal.Support.html#3616" class="Function">fresh∉-min</a> <a id="3666" class="Symbol">=</a> <a id="3668" href="Prelude.InfEnumerable.html#1785" class="Function">fresh</a> <a id="3674" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="3676" href="Nominal.Support.html#3495" class="Function">supp</a>
  <a id="3683" class="Comment">-- NB: optimized fresh that generates the *least* element</a>

  <a id="FinitelySupported.fresh-var-min"></a><a id="3744" href="Nominal.Support.html#3744" class="Function">fresh-var-min</a> <a id="3758" class="Symbol">:</a> <a id="3760" href="Nominal.Support.html#3347" class="Bound">A</a> <a id="3762" class="Symbol">→</a> <a id="3764" href="Nominal.Support.html#200" class="Bound">Atom</a>
  <a id="3771" href="Nominal.Support.html#3744" class="Function">fresh-var-min</a> <a id="3785" class="Symbol">=</a> <a id="3787" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3793" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="3795" href="Nominal.Support.html#3616" class="Function">fresh∉-min</a>

  <a id="FinitelySupported.swap-fresh-min"></a><a id="3809" href="Nominal.Support.html#3809" class="Function">swap-fresh-min</a> <a id="3824" class="Symbol">:</a> <a id="3826" class="Symbol">∀</a> <a id="3828" class="Symbol">{</a><a id="3829" href="Nominal.Support.html#3829" class="Bound">𝕒</a> <a id="3831" href="Nominal.Support.html#3831" class="Bound">𝕓</a><a id="3832" class="Symbol">}</a> <a id="3834" class="Symbol">(</a><a id="3835" href="Nominal.Support.html#3835" class="Bound">x</a> <a id="3837" class="Symbol">:</a> <a id="3839" href="Nominal.Support.html#3347" class="Bound">A</a><a id="3840" class="Symbol">)</a> <a id="3842" class="Symbol">→</a>
    <a id="3848" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="3850" href="Nominal.Support.html#3829" class="Bound">𝕒</a> <a id="3852" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="3854" href="Nominal.Support.html#3495" class="Function">supp</a> <a id="3859" href="Nominal.Support.html#3835" class="Bound">x</a>
    <a id="3865" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="3867" href="Nominal.Support.html#3831" class="Bound">𝕓</a> <a id="3869" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="3871" href="Nominal.Support.html#3495" class="Function">supp</a> <a id="3876" href="Nominal.Support.html#3835" class="Bound">x</a>
      <a id="3884" href="Prelude.InferenceRules.html#14232" class="Function Operator">────────────────</a>
      <a id="3907" href="Nominal.Swap.Base.html#620" class="Function Operator">⦅</a> <a id="3909" href="Nominal.Support.html#3829" class="Bound">𝕒</a> <a id="3911" href="Nominal.Swap.Base.html#620" class="Function Operator">↔</a> <a id="3913" href="Nominal.Support.html#3831" class="Bound">𝕓</a> <a id="3915" href="Nominal.Swap.Base.html#620" class="Function Operator">⦆</a> <a id="3917" href="Nominal.Support.html#3835" class="Bound">x</a> <a id="3919" href="Prelude.Setoid.Core.html#191" class="Field Operator">≈</a> <a id="3921" href="Nominal.Support.html#3835" class="Bound">x</a>
  <a id="3925" href="Nominal.Support.html#3809" class="Function">swap-fresh-min</a> <a id="3940" href="Nominal.Support.html#3940" class="Bound">x</a> <a id="3942" class="Symbol">=</a> <a id="3944" href="Function.Base.html#1563" class="Function">flip</a> <a id="3949" class="Symbol">(</a><a id="3950" href="Nominal.Support.html#3461" class="Field">∀fin</a> <a id="3955" href="Nominal.Support.html#3940" class="Bound">x</a> <a id="3957" class="Symbol">.</a><a id="3958" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="3964" class="Symbol">.</a><a id="3965" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3971" class="Symbol">_</a> <a id="3973" class="Symbol">_)</a>

  <a id="FinitelySupported.∃fresh"></a><a id="3979" href="Nominal.Support.html#3979" class="Function">∃fresh</a> <a id="3986" class="Symbol">:</a> <a id="3988" class="Symbol">∀</a> <a id="3990" class="Symbol">(</a><a id="3991" href="Nominal.Support.html#3991" class="Bound">x</a> <a id="3993" class="Symbol">:</a> <a id="3995" href="Nominal.Support.html#3347" class="Bound">A</a><a id="3996" class="Symbol">)</a> <a id="3998" class="Symbol">→</a> <a id="4000" href="Data.Product.html#1378" class="Function">∃</a> <a id="4002" class="Symbol">λ</a> <a id="4004" href="Nominal.Support.html#4004" class="Bound">𝕒</a> <a id="4006" class="Symbol">→</a> <a id="4008" href="Data.Product.html#1378" class="Function">∃</a> <a id="4010" class="Symbol">λ</a> <a id="4012" href="Nominal.Support.html#4012" class="Bound">𝕓</a> <a id="4014" class="Symbol">→</a>
      <a id="4022" class="Symbol">(</a><a id="4023" href="Nominal.Support.html#4004" class="Bound">𝕒</a> <a id="4025" href="Nominal.Support.html#3568" class="Function Operator">♯</a> <a id="4027" href="Nominal.Support.html#3991" class="Bound">x</a><a id="4028" class="Symbol">)</a>
    <a id="4034" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4036" class="Symbol">(</a><a id="4037" href="Nominal.Support.html#4012" class="Bound">𝕓</a> <a id="4039" href="Nominal.Support.html#3568" class="Function Operator">♯</a> <a id="4041" href="Nominal.Support.html#3991" class="Bound">x</a><a id="4042" class="Symbol">)</a>
    <a id="4048" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4050" class="Symbol">(</a><a id="4051" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="4056" href="Nominal.Support.html#4012" class="Bound">𝕓</a> <a id="4058" href="Nominal.Support.html#4004" class="Bound">𝕒</a> <a id="4060" href="Nominal.Support.html#3991" class="Bound">x</a> <a id="4062" href="Prelude.Setoid.Core.html#191" class="Field Operator">≈</a> <a id="4064" href="Nominal.Support.html#3991" class="Bound">x</a><a id="4065" class="Symbol">)</a>
  <a id="4069" href="Nominal.Support.html#3979" class="Function">∃fresh</a> <a id="4076" href="Nominal.Support.html#4076" class="Bound">x</a> <a id="4078" class="Symbol">=</a>
    <a id="4084" class="Keyword">let</a> <a id="4088" href="Nominal.Support.html#4088" class="Bound">xs</a> <a id="4091" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4093" href="Nominal.Support.html#4093" class="Bound">swap≈</a> <a id="4099" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4101" href="Nominal.Support.html#4101" class="Bound">swap≉</a> <a id="4107" class="Symbol">=</a> <a id="4109" href="Nominal.Support.html#3461" class="Field">∀fin</a> <a id="4114" href="Nominal.Support.html#4076" class="Bound">x</a>
        <a id="4124" class="Comment">-- (a ∷ b ∷ [] , a∉ ∷ b∉ ∷ []) = (fresh^ 2) xs</a>
        <a id="4179" href="Nominal.Support.html#4179" class="Bound">a</a> <a id="4181" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4183" href="Nominal.Support.html#4183" class="Bound">a∉</a> <a id="4186" class="Symbol">=</a> <a id="4188" href="Prelude.InfEnumerable.html#1923" class="Function">minFresh</a> <a id="4197" href="Nominal.Support.html#4088" class="Bound">xs</a>
        <a id="4208" href="Nominal.Support.html#4208" class="Bound">b</a> <a id="4210" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4212" href="Nominal.Support.html#4212" class="Bound">b∉</a> <a id="4215" class="Symbol">=</a> <a id="4217" href="Prelude.InfEnumerable.html#1923" class="Function">minFresh</a> <a id="4226" href="Nominal.Support.html#4088" class="Bound">xs</a>
    <a id="4233" class="Keyword">in</a> <a id="4236" href="Nominal.Support.html#4179" class="Bound">a</a> <a id="4238" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4240" href="Nominal.Support.html#4208" class="Bound">b</a> <a id="4242" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4244" href="Nominal.Support.html#4183" class="Bound">a∉</a> <a id="4247" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4249" href="Nominal.Support.html#4212" class="Bound">b∉</a> <a id="4252" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4254" href="Nominal.Support.html#4093" class="Bound">swap≈</a> <a id="4260" href="Nominal.Support.html#4179" class="Bound">a</a> <a id="4262" href="Nominal.Support.html#4208" class="Bound">b</a> <a id="4264" href="Nominal.Support.html#4183" class="Bound">a∉</a> <a id="4267" href="Nominal.Support.html#4212" class="Bound">b∉</a>

  <a id="4273" class="Comment">-- T0D0: meta-programming tactic `fresh-in-context` (big sister to `deriveSwap`)</a>
  <a id="4356" class="Comment">-- NB: these tactics correspond to two fundamental axioms/notions in nominal sets</a>
  <a id="4440" class="Comment">-- (c.f. EZFA)</a>

<a id="4456" class="Keyword">open</a> <a id="4461" href="Nominal.Support.html#3328" class="Module">FinitelySupported</a> <a id="4479" class="Symbol">⦃...⦄</a> <a id="4485" class="Keyword">public</a>

<a id="4493" class="Keyword">instance</a>
  <a id="FinSupp-Atom"></a><a id="4504" href="Nominal.Support.html#4504" class="Function">FinSupp-Atom</a> <a id="4517" class="Symbol">:</a> <a id="4519" href="Nominal.Support.html#3328" class="Record">FinitelySupported</a> <a id="4537" href="Nominal.Support.html#200" class="Bound">Atom</a>
  <a id="4544" href="Nominal.Support.html#4504" class="Function">FinSupp-Atom</a> <a id="4557" class="Symbol">.</a><a id="4558" href="Nominal.Support.html#3461" class="Field">∀fin</a> <a id="4563" href="Nominal.Support.html#4563" class="Bound">𝕒</a> <a id="4565" class="Symbol">=</a> <a id="4567" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="4569" href="Nominal.Support.html#4563" class="Bound">𝕒</a> <a id="4571" href="Data.List.Base.html#5034" class="Function Operator">]</a> <a id="4573" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4575" href="Nominal.Support.html#4600" class="Function">eq</a> <a id="4578" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4580" href="Nominal.Support.html#4723" class="Function">¬eq</a>
    <a id="4588" class="Keyword">where</a>
      <a id="4600" href="Nominal.Support.html#4600" class="Function">eq</a> <a id="4603" class="Symbol">:</a> <a id="4605" class="Symbol">∀</a> <a id="4607" href="Nominal.Support.html#4607" class="Bound">x</a> <a id="4609" href="Nominal.Support.html#4609" class="Bound">y</a> <a id="4611" class="Symbol">→</a> <a id="4613" href="Nominal.Support.html#4607" class="Bound">x</a> <a id="4615" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="4617" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="4619" href="Nominal.Support.html#4563" class="Bound">𝕒</a> <a id="4621" href="Data.List.Base.html#5034" class="Function Operator">]</a> <a id="4623" class="Symbol">→</a> <a id="4625" href="Nominal.Support.html#4609" class="Bound">y</a> <a id="4627" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="4629" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="4631" href="Nominal.Support.html#4563" class="Bound">𝕒</a> <a id="4633" href="Data.List.Base.html#5034" class="Function Operator">]</a> <a id="4635" class="Symbol">→</a> <a id="4637" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="4642" href="Nominal.Support.html#4609" class="Bound">y</a> <a id="4644" href="Nominal.Support.html#4607" class="Bound">x</a> <a id="4646" href="Nominal.Support.html#4563" class="Bound">𝕒</a> <a id="4648" href="Prelude.Setoid.Core.html#191" class="Field Operator">≈</a> <a id="4650" href="Nominal.Support.html#4563" class="Bound">𝕒</a>
      <a id="4658" href="Nominal.Support.html#4600" class="Function">eq</a> <a id="4661" class="Symbol">_</a> <a id="4663" class="Symbol">_</a> <a id="4665" href="Nominal.Support.html#4665" class="Bound">x∉</a> <a id="4668" href="Nominal.Support.html#4668" class="Bound">y∉</a> <a id="4671" class="Symbol">=</a> <a id="4673" href="Nominal.Swap.Base.html#1946" class="Function">swap-noop</a> <a id="4683" class="Symbol">_</a> <a id="4685" class="Symbol">_</a> <a id="4687" class="Symbol">_</a> <a id="4689" class="Symbol">λ</a> <a id="4691" class="Keyword">where</a> <a id="4697" href="Nominal.Swap.Base.html#2172" class="InductiveConstructor">𝟘</a> <a id="4699" class="Symbol">→</a> <a id="4701" href="Nominal.Support.html#4668" class="Bound">y∉</a> <a id="4704" href="Nominal.Swap.Base.html#2172" class="InductiveConstructor">𝟘</a><a id="4705" class="Symbol">;</a> <a id="4707" href="Nominal.Swap.Base.html#2194" class="InductiveConstructor">𝟙</a> <a id="4709" class="Symbol">→</a> <a id="4711" href="Nominal.Support.html#4665" class="Bound">x∉</a> <a id="4714" href="Nominal.Swap.Base.html#2172" class="InductiveConstructor">𝟘</a>

      <a id="4723" href="Nominal.Support.html#4723" class="Function">¬eq</a> <a id="4727" class="Symbol">:</a> <a id="4729" class="Symbol">∀</a> <a id="4731" href="Nominal.Support.html#4731" class="Bound">x</a> <a id="4733" href="Nominal.Support.html#4733" class="Bound">y</a> <a id="4735" class="Symbol">→</a> <a id="4737" href="Nominal.Support.html#4731" class="Bound">x</a> <a id="4739" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="4741" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="4743" href="Nominal.Support.html#4563" class="Bound">𝕒</a> <a id="4745" href="Data.List.Base.html#5034" class="Function Operator">]</a> <a id="4747" class="Symbol">→</a> <a id="4749" href="Nominal.Support.html#4733" class="Bound">y</a> <a id="4751" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="4753" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="4755" href="Nominal.Support.html#4563" class="Bound">𝕒</a> <a id="4757" href="Data.List.Base.html#5034" class="Function Operator">]</a> <a id="4759" class="Symbol">→</a> <a id="4761" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="4766" href="Nominal.Support.html#4733" class="Bound">y</a> <a id="4768" href="Nominal.Support.html#4731" class="Bound">x</a> <a id="4770" href="Nominal.Support.html#4563" class="Bound">𝕒</a> <a id="4772" href="Prelude.Setoid.Core.html#211" class="Function Operator">≉</a> <a id="4774" href="Nominal.Support.html#4563" class="Bound">𝕒</a>
      <a id="4782" href="Nominal.Support.html#4723" class="Function">¬eq</a> <a id="4786" class="Symbol">_</a> <a id="4788" href="Nominal.Support.html#4788" class="Bound">y</a> <a id="4790" href="Nominal.Swap.Base.html#2172" class="InductiveConstructor">𝟘</a> <a id="4792" href="Nominal.Support.html#4792" class="Bound">y∉</a>
        <a id="4803" class="Keyword">rewrite</a> <a id="4811" href="Prelude.DecEq.WithK.html#170" class="Function">≟-refl</a> <a id="4818" href="Nominal.Support.html#4563" class="Bound">𝕒</a> <a id="4820" class="Symbol">|</a> <a id="4822" href="Prelude.DecEq.WithK.html#170" class="Function">≟-refl</a> <a id="4829" href="Nominal.Support.html#4788" class="Bound">y</a>
        <a id="4839" class="Keyword">with</a> <a id="4844" href="Nominal.Support.html#4563" class="Bound">𝕒</a> <a id="4846" href="Prelude.DecEq.Core.html#190" class="Field Operator">≟</a> <a id="4848" href="Nominal.Support.html#4788" class="Bound">y</a>
      <a id="4856" class="Symbol">...</a> <a id="4860" class="Symbol">|</a> <a id="4862" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="4866" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="4871" class="Symbol">=</a> <a id="4873" href="Data.Empty.html#637" class="Function">⊥-elim</a> <a id="4880" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="4882" class="Bound">y∉</a> <a id="4885" href="Nominal.Swap.Base.html#2172" class="InductiveConstructor">𝟘</a>
      <a id="4893" class="Symbol">...</a> <a id="4897" class="Symbol">|</a> <a id="4899" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="4902" href="Nominal.Support.html#4902" class="Bound">y≢</a>    <a id="4908" class="Symbol">=</a> <a id="4910" href="Relation.Binary.PropositionalEquality.Core.html#2310" class="Function">≢-sym</a> <a id="4916" href="Nominal.Support.html#4902" class="Bound">y≢</a>


<a id="4921" class="Comment">-- T0D0: generalize this to more complex types than Atom (c.f. supp-swap above)</a>
<a id="supp-swap-atom"></a><a id="5001" href="Nominal.Support.html#5001" class="Function">supp-swap-atom</a> <a id="5016" class="Symbol">:</a> <a id="5018" class="Symbol">∀</a> <a id="5020" class="Symbol">{</a><a id="5021" href="Nominal.Support.html#5021" class="Bound">𝕒</a> <a id="5023" href="Nominal.Support.html#5023" class="Bound">𝕓</a><a id="5024" class="Symbol">}</a> <a id="5026" class="Symbol">(</a><a id="5027" href="Nominal.Support.html#5027" class="Bound">t</a> <a id="5029" class="Symbol">:</a> <a id="5031" href="Nominal.Support.html#200" class="Bound">Atom</a><a id="5035" class="Symbol">)</a> <a id="5037" class="Symbol">→</a> <a id="5039" href="Nominal.Support.html#3495" class="Function">supp</a> <a id="5044" class="Symbol">(</a><a id="5045" href="Nominal.Swap.Base.html#442" class="Field">swap</a> <a id="5050" href="Nominal.Support.html#5021" class="Bound">𝕒</a> <a id="5052" href="Nominal.Support.html#5023" class="Bound">𝕓</a> <a id="5054" href="Nominal.Support.html#5027" class="Bound">t</a><a id="5055" class="Symbol">)</a> <a id="5057" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="5059" href="Nominal.Support.html#5021" class="Bound">𝕒</a> <a id="5061" class="InductiveConstructor Operator">∷</a> <a id="5063" href="Nominal.Support.html#5023" class="Bound">𝕓</a> <a id="5065" class="InductiveConstructor Operator">∷</a> <a id="5067" href="Nominal.Support.html#5027" class="Bound">t</a> <a id="5069" class="InductiveConstructor Operator">∷</a> <a id="5071" class="InductiveConstructor">[]</a>
<a id="5074" href="Nominal.Support.html#5001" class="Function">supp-swap-atom</a> <a id="5089" class="Symbol">{</a><a id="5090" href="Nominal.Support.html#5090" class="Bound">a</a><a id="5091" class="Symbol">}{</a><a id="5093" href="Nominal.Support.html#5093" class="Bound">b</a><a id="5094" class="Symbol">}</a> <a id="5096" href="Nominal.Support.html#5096" class="Bound">t</a>
  <a id="5100" class="Keyword">with</a> <a id="5105" href="Nominal.Support.html#5096" class="Bound">t</a> <a id="5107" href="Prelude.DecEq.Core.html#190" class="Field Operator">≟</a> <a id="5109" href="Nominal.Support.html#5090" class="Bound">a</a>
<a id="5111" class="Symbol">...</a> <a id="5115" class="Symbol">|</a> <a id="5117" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="5121" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="5126" class="Symbol">=</a> <a id="5128" class="Symbol">λ</a> <a id="5130" class="Keyword">where</a> <a id="5136" href="Nominal.Swap.Base.html#2172" class="InductiveConstructor">𝟘</a> <a id="5138" class="Symbol">→</a> <a id="5140" href="Nominal.Swap.Base.html#2194" class="InductiveConstructor">𝟙</a>
<a id="5142" class="Symbol">...</a> <a id="5146" class="Symbol">|</a> <a id="5148" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="5151" class="Symbol">_</a>
  <a id="5155" class="Keyword">with</a> <a id="5160" class="Bound">t</a> <a id="5162" href="Prelude.DecEq.Core.html#190" class="Field Operator">≟</a> <a id="5164" class="Bound">b</a>
<a id="5166" class="Symbol">...</a> <a id="5170" class="Symbol">|</a> <a id="5172" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="5176" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="5181" class="Symbol">=</a> <a id="5183" class="Symbol">λ</a> <a id="5185" class="Keyword">where</a> <a id="5191" href="Nominal.Swap.Base.html#2172" class="InductiveConstructor">𝟘</a> <a id="5193" class="Symbol">→</a> <a id="5195" href="Nominal.Swap.Base.html#2172" class="InductiveConstructor">𝟘</a>
<a id="5197" class="Symbol">...</a> <a id="5201" class="Symbol">|</a> <a id="5203" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="5206" class="Symbol">_</a>     <a id="5212" class="Symbol">=</a> <a id="5214" class="Symbol">λ</a> <a id="5216" class="Keyword">where</a> <a id="5222" href="Nominal.Swap.Base.html#2172" class="InductiveConstructor">𝟘</a> <a id="5224" class="Symbol">→</a> <a id="5226" href="Nominal.Swap.Base.html#2214" class="InductiveConstructor">𝟚</a>
</pre></body></html>