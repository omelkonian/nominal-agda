<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Example</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">-v</a> <a id="16" class="Pragma">nominal:100</a> <a id="28" class="Symbol">#-}</a>

<a id="33" class="Keyword">open</a> <a id="38" class="Keyword">import</a> <a id="45" href="Prelude.Init.html" class="Module">Prelude.Init</a> <a id="58" class="Keyword">hiding</a> <a id="65" class="Symbol">(</a><a id="66" href="Data.Product.html#5317" class="Function">swap</a><a id="70" class="Symbol">)</a>
<a id="72" class="Keyword">open</a> <a id="77" class="Keyword">import</a> <a id="84" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="98" class="Keyword">open</a> <a id="103" class="Keyword">import</a> <a id="110" href="Prelude.General.html" class="Module">Prelude.General</a>

<a id="Atom"></a><a id="127" href="Example.html#127" class="Function">Atom</a> <a id="132" class="Symbol">=</a> <a id="134" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="136" class="Keyword">open</a> <a id="141" class="Keyword">import</a> <a id="148" href="Swap.html" class="Module">Swap</a> <a id="153" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="155" class="Keyword">open</a> <a id="160" class="Keyword">import</a> <a id="167" href="Perm.html" class="Module">Perm</a> <a id="172" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="174" class="Keyword">open</a> <a id="179" class="Keyword">import</a> <a id="186" href="Abs.html" class="Module">Abs</a> <a id="190" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="𝕒"></a><a id="192" href="Example.html#192" class="Function">𝕒</a> <a id="194" class="Symbol">=</a> <a id="196" class="Number">0</a><a id="197" class="Symbol">;</a> <a id="𝕓"></a><a id="199" href="Example.html#199" class="Function">𝕓</a> <a id="201" class="Symbol">=</a> <a id="203" class="Number">1</a>

<a id="206" class="Comment">-- ** swapping</a>

<a id="222" class="Keyword">record</a> <a id="TESTR"></a><a id="229" href="Example.html#229" class="Record">TESTR</a> <a id="235" class="Symbol">:</a> <a id="237" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="241" class="Keyword">where</a>
  <a id="249" class="Keyword">constructor</a> <a id="ATOM"></a><a id="261" href="Example.html#261" class="InductiveConstructor">ATOM</a>
  <a id="268" class="Keyword">field</a> <a id="TESTR.atom"></a><a id="274" href="Example.html#274" class="Field">atom</a> <a id="279" class="Symbol">:</a> <a id="281" href="Example.html#127" class="Function">Atom</a>
<a id="286" class="Keyword">open</a> <a id="291" href="Example.html#229" class="Module">TESTR</a>
<a id="297" class="Comment">-- unquoteDecl TESTR↔ = DERIVE Swap [ quote TESTR , TESTR↔ ]</a>
<a id="358" class="Keyword">instance</a>
  <a id="TESTR↔"></a><a id="369" href="Example.html#369" class="Function">TESTR↔</a> <a id="376" class="Symbol">:</a> <a id="378" href="Swap.Base.html#150" class="Record">Swap</a> <a id="383" href="Example.html#229" class="Record">TESTR</a>
  <a id="391" href="Example.html#369" class="Function">TESTR↔</a> <a id="398" class="Symbol">.</a><a id="399" href="Swap.Base.html#189" class="Field">swap</a> <a id="404" href="Example.html#404" class="Bound">𝕒</a> <a id="406" href="Example.html#406" class="Bound">𝕓</a> <a id="408" class="Symbol">(</a><a id="409" class="Keyword">record</a> <a id="416" class="Symbol">{</a><a id="417" href="Example.html#274" class="Field">atom</a> <a id="422" class="Symbol">=</a> <a id="424" href="Example.html#424" class="Bound">x</a><a id="425" class="Symbol">})</a> <a id="428" class="Symbol">=</a> <a id="430" class="Keyword">record</a> <a id="437" class="Symbol">{</a><a id="438" href="Example.html#274" class="Field">atom</a> <a id="443" class="Symbol">=</a> <a id="445" href="Swap.Base.html#189" class="Field">swap</a> <a id="450" href="Example.html#404" class="Bound">𝕒</a> <a id="452" href="Example.html#406" class="Bound">𝕓</a> <a id="454" href="Example.html#424" class="Bound">x</a><a id="455" class="Symbol">}</a>

<a id="458" href="Example.html#458" class="Function">_</a> <a id="460" class="Symbol">:</a> <a id="462" href="Swap.Base.html#189" class="Field">swap</a> <a id="467" href="Example.html#192" class="Function">𝕒</a> <a id="469" href="Example.html#199" class="Function">𝕓</a> <a id="471" class="Symbol">(</a><a id="472" href="Example.html#261" class="InductiveConstructor">ATOM</a> <a id="477" href="Example.html#192" class="Function">𝕒</a><a id="478" class="Symbol">)</a> <a id="480" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="482" href="Example.html#261" class="InductiveConstructor">ATOM</a> <a id="487" href="Example.html#199" class="Function">𝕓</a>
<a id="489" class="Symbol">_</a> <a id="491" class="Symbol">=</a> <a id="493" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="499" class="Comment">--</a>

<a id="503" class="Keyword">data</a> <a id="TEST"></a><a id="508" href="Example.html#508" class="Datatype">TEST</a> <a id="513" class="Symbol">:</a> <a id="515" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="519" class="Keyword">where</a>
  <a id="TEST.ATOM"></a><a id="527" href="Example.html#527" class="InductiveConstructor">ATOM</a> <a id="532" class="Symbol">:</a> <a id="534" href="Example.html#127" class="Function">Atom</a> <a id="539" class="Symbol">→</a> <a id="541" href="Example.html#508" class="Datatype">TEST</a>
<a id="546" class="Comment">-- unquoteDecl TEST↔ = DERIVE Swap [ quote TEST , TEST↔ ]</a>
<a id="604" class="Keyword">instance</a>
  <a id="TEST↔"></a><a id="615" href="Example.html#615" class="Function">TEST↔</a> <a id="621" class="Symbol">:</a> <a id="623" href="Swap.Base.html#150" class="Record">Swap</a> <a id="628" href="Example.html#508" class="Datatype">TEST</a>
  <a id="635" href="Example.html#615" class="Function">TEST↔</a> <a id="641" class="Symbol">.</a><a id="642" href="Swap.Base.html#189" class="Field">swap</a> <a id="647" href="Example.html#647" class="Bound">𝕒</a> <a id="649" href="Example.html#649" class="Bound">𝕓</a> <a id="651" class="Symbol">(</a><a id="652" href="Example.html#527" class="InductiveConstructor">ATOM</a> <a id="657" href="Example.html#657" class="Bound">x</a><a id="658" class="Symbol">)</a> <a id="660" class="Symbol">=</a> <a id="662" href="Example.html#527" class="InductiveConstructor">ATOM</a> <a id="667" class="Symbol">(</a><a id="668" href="Swap.Base.html#189" class="Field">swap</a> <a id="673" href="Example.html#647" class="Bound">𝕒</a> <a id="675" href="Example.html#649" class="Bound">𝕓</a> <a id="677" href="Example.html#657" class="Bound">x</a><a id="678" class="Symbol">)</a>

<a id="681" href="Example.html#681" class="Function">_</a> <a id="683" class="Symbol">:</a> <a id="685" href="Swap.Base.html#189" class="Field">swap</a> <a id="690" href="Example.html#192" class="Function">𝕒</a> <a id="692" href="Example.html#199" class="Function">𝕓</a> <a id="694" class="Symbol">(</a><a id="695" href="Example.html#508" class="Datatype">TEST</a> <a id="700" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="702" class="InductiveConstructor">ATOM</a> <a id="707" href="Example.html#192" class="Function">𝕒</a><a id="708" class="Symbol">)</a> <a id="710" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="712" class="InductiveConstructor">ATOM</a> <a id="717" href="Example.html#199" class="Function">𝕓</a>
<a id="719" class="Symbol">_</a> <a id="721" class="Symbol">=</a> <a id="723" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="729" class="Comment">--</a>

<a id="`ex"></a><a id="733" href="Example.html#733" class="Function">`ex</a> <a id="737" class="Symbol">:</a> <a id="739" href="Swap.Derive.html#6761" class="Datatype">λTerm</a>
<a id="745" href="Example.html#733" class="Function">`ex</a> <a id="749" class="Symbol">=</a> <a id="751" href="Swap.Derive.html#6815" class="InductiveConstructor">VAR</a> <a id="755" href="Example.html#192" class="Function">𝕒</a> <a id="757" href="Swap.Derive.html#6781" class="InductiveConstructor Operator">-APP-</a> <a id="763" href="Swap.Derive.html#6815" class="InductiveConstructor">VAR</a> <a id="767" href="Example.html#199" class="Function">𝕓</a>

<a id="ex↔"></a><a id="770" href="Example.html#770" class="Function">ex↔</a> <a id="774" class="Symbol">:</a> <a id="776" href="Swap.Base.html#189" class="Field">swap</a> <a id="781" href="Example.html#192" class="Function">𝕒</a> <a id="783" href="Example.html#199" class="Function">𝕓</a> <a id="785" href="Example.html#733" class="Function">`ex</a> <a id="789" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="791" href="Swap.Derive.html#6815" class="InductiveConstructor">VAR</a> <a id="795" href="Example.html#199" class="Function">𝕓</a> <a id="797" href="Swap.Derive.html#6781" class="InductiveConstructor Operator">-APP-</a> <a id="803" href="Swap.Derive.html#6815" class="InductiveConstructor">VAR</a> <a id="807" href="Example.html#192" class="Function">𝕒</a>
<a id="809" href="Example.html#770" class="Function">ex↔</a> <a id="813" class="Symbol">=</a> <a id="815" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="821" class="Comment">-- ** abstraction</a>

<a id="840" class="Comment">-- Input a name and output two local binding scopes using that name</a>
<a id="908" href="Example.html#908" class="Function">_</a> <a id="910" class="Symbol">:</a> <a id="912" class="Symbol">(λ</a> <a id="915" href="Example.html#915" class="Bound">a</a> <a id="917" class="Symbol">→</a> <a id="919" class="Symbol">(</a><a id="920" href="Abs.html#277" class="InductiveConstructor">abs</a> <a id="924" href="Example.html#915" class="Bound">a</a> <a id="926" href="Example.html#915" class="Bound">a</a> <a id="928" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="930" href="Abs.html#277" class="InductiveConstructor">abs</a> <a id="934" class="Symbol">{</a><a id="935" class="Argument">A</a> <a id="937" class="Symbol">=</a> <a id="939" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="940" class="Symbol">}</a> <a id="942" href="Example.html#915" class="Bound">a</a> <a id="944" href="Example.html#915" class="Bound">a</a><a id="945" class="Symbol">))</a> <a id="948" href="Example.html#192" class="Function">𝕒</a>
  <a id="952" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="954" class="Symbol">(</a><a id="955" href="Abs.html#277" class="InductiveConstructor">abs</a> <a id="959" href="Example.html#192" class="Function">𝕒</a> <a id="961" href="Example.html#192" class="Function">𝕒</a> <a id="963" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="965" href="Abs.html#277" class="InductiveConstructor">abs</a> <a id="969" href="Example.html#192" class="Function">𝕒</a> <a id="971" href="Example.html#192" class="Function">𝕒</a><a id="972" class="Symbol">)</a>
<a id="974" class="Symbol">_</a> <a id="976" class="Symbol">=</a> <a id="978" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="984" class="Comment">-- -- Unpack a pair of local scopes and concrete them at two names</a>
<a id="1051" href="Example.html#1051" class="Function">_</a> <a id="1053" class="Symbol">:</a> <a id="1055" class="Symbol">(λ</a> <a id="1058" class="Symbol">(</a><a id="1059" href="Example.html#1059" class="Bound">x</a> <a id="1061" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1063" href="Example.html#1063" class="Bound">y</a><a id="1064" class="Symbol">)</a> <a id="1066" class="Symbol">→</a> <a id="1068" href="Abs.html#343" class="Function">conc</a> <a id="1073" href="Example.html#1059" class="Bound">x</a> <a id="1075" href="Example.html#192" class="Function">𝕒</a> <a id="1077" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1079" href="Abs.html#343" class="Function">conc</a> <a id="1084" href="Example.html#1063" class="Bound">y</a> <a id="1086" href="Example.html#199" class="Function">𝕓</a><a id="1087" class="Symbol">)</a> <a id="1089" class="Symbol">((λ</a> <a id="1093" href="Example.html#1093" class="Bound">a</a> <a id="1095" class="Symbol">→</a> <a id="1097" href="Abs.html#277" class="InductiveConstructor">abs</a> <a id="1101" href="Example.html#1093" class="Bound">a</a> <a id="1103" href="Example.html#1093" class="Bound">a</a> <a id="1105" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1107" href="Abs.html#277" class="InductiveConstructor">abs</a> <a id="1111" class="Symbol">{</a><a id="1112" class="Argument">A</a> <a id="1114" class="Symbol">=</a> <a id="1116" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1117" class="Symbol">}</a> <a id="1119" href="Example.html#1093" class="Bound">a</a> <a id="1121" href="Example.html#1093" class="Bound">a</a><a id="1122" class="Symbol">)</a> <a id="1124" href="Example.html#192" class="Function">𝕒</a><a id="1125" class="Symbol">)</a>
   <a id="1130" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1132" class="Symbol">(</a><a id="1133" href="Example.html#192" class="Function">𝕒</a> <a id="1135" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1137" href="Example.html#199" class="Function">𝕓</a><a id="1138" class="Symbol">)</a>
<a id="1140" class="Symbol">_</a> <a id="1142" class="Symbol">=</a> <a id="1144" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="1150" class="Comment">--</a>

<a id="1154" class="Keyword">mutual</a>
  <a id="1163" class="Keyword">data</a> <a id="Term"></a><a id="1168" href="Example.html#1168" class="Datatype">Term</a> <a id="1173" class="Symbol">:</a> <a id="1175" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1179" class="Keyword">where</a>
    <a id="Term._-APP-_"></a><a id="1189" href="Example.html#1189" class="InductiveConstructor Operator">_-APP-_</a> <a id="1197" class="Symbol">:</a> <a id="1199" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="1203" href="Example.html#1168" class="Datatype">Term</a>
    <a id="Term.VAR"></a><a id="1212" href="Example.html#1212" class="InductiveConstructor">VAR</a> <a id="1216" class="Symbol">:</a> <a id="1218" href="Example.html#127" class="Function">Atom</a> <a id="1223" class="Symbol">→</a> <a id="1225" href="Example.html#1168" class="Datatype">Term</a>
    <a id="Term.LAM"></a><a id="1234" href="Example.html#1234" class="InductiveConstructor">LAM</a> <a id="1238" class="Symbol">:</a> <a id="1240" href="Abs.html#231" class="Record">Abs</a> <a id="1244" href="Example.html#1168" class="Datatype">Term</a> <a id="1249" class="Symbol">→</a> <a id="1251" href="Example.html#1168" class="Datatype">Term</a>
  <a id="1258" class="Comment">-- unquoteDecl Swap-Term = DERIVE Swap [ quote Term , Swap-Term ]</a>
  <a id="1326" class="Keyword">instance</a>
    <a id="1339" class="Symbol">{-#</a> <a id="1343" class="Keyword">TERMINATING</a> <a id="1355" class="Symbol">#-}</a>
    <a id="Swap-Term"></a><a id="1363" href="Example.html#1363" class="Function">Swap-Term</a> <a id="1373" class="Symbol">:</a> <a id="1375" href="Swap.Base.html#150" class="Record">Swap</a> <a id="1380" href="Example.html#1168" class="Datatype">Term</a>
    <a id="1389" href="Example.html#1363" class="Function">Swap-Term</a> <a id="1399" class="Symbol">.</a><a id="1400" href="Swap.Base.html#189" class="Field">swap</a> <a id="1405" href="Example.html#1405" class="Bound">𝕒</a> <a id="1407" href="Example.html#1407" class="Bound">𝕓</a> <a id="1409" class="Symbol">=</a> <a id="1411" class="Symbol">λ</a> <a id="1413" class="Keyword">where</a>
      <a id="1425" class="Symbol">(</a><a id="1426" href="Example.html#1426" class="Bound">t</a> <a id="1428" href="Example.html#1189" class="InductiveConstructor Operator">-APP-</a> <a id="1434" href="Example.html#1434" class="Bound">t′</a><a id="1436" class="Symbol">)</a> <a id="1438" class="Symbol">→</a> <a id="1440" href="Swap.Base.html#189" class="Field">swap</a> <a id="1445" href="Example.html#1405" class="Bound">𝕒</a> <a id="1447" href="Example.html#1407" class="Bound">𝕓</a> <a id="1449" href="Example.html#1426" class="Bound">t</a> <a id="1451" href="Example.html#1189" class="InductiveConstructor Operator">-APP-</a> <a id="1457" href="Swap.Base.html#189" class="Field">swap</a> <a id="1462" href="Example.html#1405" class="Bound">𝕒</a> <a id="1464" href="Example.html#1407" class="Bound">𝕓</a> <a id="1466" href="Example.html#1434" class="Bound">t′</a>
      <a id="1475" class="Symbol">(</a><a id="1476" href="Example.html#1212" class="InductiveConstructor">VAR</a> <a id="1480" href="Example.html#1480" class="Bound">x</a><a id="1481" class="Symbol">)</a> <a id="1483" class="Symbol">→</a> <a id="1485" href="Example.html#1212" class="InductiveConstructor">VAR</a> <a id="1489" class="Symbol">(</a><a id="1490" href="Swap.Base.html#189" class="Field">swap</a> <a id="1495" href="Example.html#1405" class="Bound">𝕒</a> <a id="1497" href="Example.html#1407" class="Bound">𝕓</a> <a id="1499" href="Example.html#1480" class="Bound">x</a><a id="1500" class="Symbol">)</a>
      <a id="1508" class="Symbol">(</a><a id="1509" href="Example.html#1234" class="InductiveConstructor">LAM</a> <a id="1513" href="Example.html#1513" class="Bound">f</a><a id="1514" class="Symbol">)</a> <a id="1516" class="Symbol">→</a> <a id="1518" href="Example.html#1234" class="InductiveConstructor">LAM</a> <a id="1522" class="Symbol">(</a><a id="1523" href="Swap.Base.html#189" class="Field">swap</a> <a id="1528" href="Example.html#1405" class="Bound">𝕒</a> <a id="1530" href="Example.html#1407" class="Bound">𝕓</a> <a id="1532" href="Example.html#1513" class="Bound">f</a><a id="1533" class="Symbol">)</a>

<a id="`𝕒∙𝕓"></a><a id="1536" href="Example.html#1536" class="Function">`𝕒∙𝕓</a> <a id="1541" class="Symbol">:</a> <a id="1543" href="Example.html#1168" class="Datatype">Term</a>
<a id="1548" href="Example.html#1536" class="Function">`𝕒∙𝕓</a> <a id="1553" class="Symbol">=</a> <a id="1555" href="Example.html#1212" class="InductiveConstructor">VAR</a> <a id="1559" href="Example.html#192" class="Function">𝕒</a> <a id="1561" href="Example.html#1189" class="InductiveConstructor Operator">-APP-</a> <a id="1567" href="Example.html#1212" class="InductiveConstructor">VAR</a> <a id="1571" href="Example.html#199" class="Function">𝕓</a>

<a id="1574" href="Example.html#1574" class="Function">_</a> <a id="1576" class="Symbol">:</a> <a id="1578" href="Swap.Base.html#189" class="Field">swap</a> <a id="1583" href="Example.html#192" class="Function">𝕒</a> <a id="1585" href="Example.html#199" class="Function">𝕓</a> <a id="1587" href="Example.html#1536" class="Function">`𝕒∙𝕓</a> <a id="1592" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1594" class="InductiveConstructor">VAR</a> <a id="1598" href="Example.html#199" class="Function">𝕓</a> <a id="1600" class="InductiveConstructor Operator">-APP-</a> <a id="1606" class="InductiveConstructor">VAR</a> <a id="1610" href="Example.html#192" class="Function">𝕒</a>
<a id="1612" class="Symbol">_</a> <a id="1614" class="Symbol">=</a> <a id="1616" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="`id"></a><a id="1622" href="Example.html#1622" class="Function">`id</a> <a id="1626" class="Symbol">:</a> <a id="1628" href="Example.html#1168" class="Datatype">Term</a>
<a id="1633" href="Example.html#1622" class="Function">`id</a> <a id="1637" class="Symbol">=</a> <a id="1639" href="Example.html#1234" class="InductiveConstructor">LAM</a> <a id="1643" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="1645" href="Abs.html#277" class="InductiveConstructor">abs</a> <a id="1649" href="Example.html#192" class="Function">𝕒</a> <a id="1651" class="Symbol">(</a><a id="1652" href="Example.html#1212" class="InductiveConstructor">VAR</a> <a id="1656" href="Example.html#192" class="Function">𝕒</a><a id="1657" class="Symbol">)</a>

<a id="1660" href="Example.html#1660" class="Function">_</a> <a id="1662" class="Symbol">:</a> <a id="1664" href="Swap.Base.html#189" class="Field">swap</a> <a id="1669" href="Example.html#192" class="Function">𝕒</a> <a id="1671" href="Example.html#199" class="Function">𝕓</a> <a id="1673" href="Example.html#1622" class="Function">`id</a> <a id="1677" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1679" href="Example.html#1234" class="InductiveConstructor">LAM</a> <a id="1683" class="Symbol">(</a><a id="1684" href="Abs.html#277" class="InductiveConstructor">abs</a> <a id="1688" href="Example.html#199" class="Function">𝕓</a> <a id="1690" class="Symbol">(</a><a id="1691" class="InductiveConstructor">VAR</a> <a id="1695" href="Example.html#199" class="Function">𝕓</a><a id="1696" class="Symbol">))</a>
<a id="1699" class="Symbol">_</a> <a id="1701" class="Symbol">=</a> <a id="1703" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="`id∙𝕒"></a><a id="1709" href="Example.html#1709" class="Function">`id∙𝕒</a> <a id="1715" class="Symbol">:</a> <a id="1717" href="Example.html#1168" class="Datatype">Term</a>
<a id="1722" href="Example.html#1709" class="Function">`id∙𝕒</a> <a id="1728" class="Symbol">=</a> <a id="1730" href="Example.html#1234" class="InductiveConstructor">LAM</a> <a id="1734" class="Symbol">(</a><a id="1735" href="Abs.html#277" class="InductiveConstructor">abs</a> <a id="1739" href="Example.html#192" class="Function">𝕒</a> <a id="1741" class="Symbol">(</a><a id="1742" href="Example.html#1212" class="InductiveConstructor">VAR</a> <a id="1746" href="Example.html#192" class="Function">𝕒</a><a id="1747" class="Symbol">))</a> <a id="1750" href="Example.html#1189" class="InductiveConstructor Operator">-APP-</a> <a id="1756" href="Example.html#1212" class="InductiveConstructor">VAR</a> <a id="1760" href="Example.html#192" class="Function">𝕒</a>


<a id="1764" class="Comment">-- t = (\a.a) a</a>
<a id="1780" class="Comment">-- t↔ = swap a b t =? (\a.a) b ×××</a>
<a id="1815" class="Comment">--                 =? (\b.b) b ←——</a>
<a id="1850" href="Example.html#1850" class="Function">_</a> <a id="1852" class="Symbol">:</a> <a id="1854" href="Swap.Base.html#189" class="Field">swap</a> <a id="1859" href="Example.html#192" class="Function">𝕒</a> <a id="1861" href="Example.html#199" class="Function">𝕓</a> <a id="1863" href="Example.html#1709" class="Function">`id∙𝕒</a> <a id="1869" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="1871" href="Example.html#1234" class="InductiveConstructor">LAM</a> <a id="1875" class="Symbol">(</a><a id="1876" href="Abs.html#277" class="InductiveConstructor">abs</a> <a id="1880" href="Example.html#192" class="Function">𝕒</a> <a id="1882" class="Symbol">(</a><a id="1883" class="InductiveConstructor">VAR</a> <a id="1887" href="Example.html#192" class="Function">𝕒</a><a id="1888" class="Symbol">))</a> <a id="1891" class="InductiveConstructor Operator">-APP-</a> <a id="1897" class="InductiveConstructor">VAR</a> <a id="1901" href="Example.html#199" class="Function">𝕓</a>
<a id="1903" class="Symbol">_</a> <a id="1905" class="Symbol">=</a> <a id="1907" class="Symbol">λ</a> <a id="1909" class="Symbol">()</a>

<a id="1913" class="Comment">-- this is the expected behaviour, doesn&#39;t matter denotationally</a>
<a id="1978" class="Comment">-- only need a smarter `swap` for efficiency (e.g. using support indices)</a>
<a id="2052" class="Comment">-- e.g. in `swap a b (\{⋯a⋯b⋯}. x₁ * a * ⋯ xᵢ ⋯ * (b + ⋯))`</a>
<a id="2112" class="Comment">--      do not go inside the term as an optimization</a>
<a id="2165" class="Comment">-- FUTURE: name restriction (e.g. used in iEUTxO instead of abstraction)</a>
<a id="2238" href="Example.html#2238" class="Function">_</a> <a id="2240" class="Symbol">:</a> <a id="2242" href="Swap.Base.html#189" class="Field">swap</a> <a id="2247" href="Example.html#192" class="Function">𝕒</a> <a id="2249" href="Example.html#199" class="Function">𝕓</a> <a id="2251" href="Example.html#1709" class="Function">`id∙𝕒</a> <a id="2257" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2259" href="Example.html#1234" class="InductiveConstructor">LAM</a> <a id="2263" class="Symbol">(</a><a id="2264" href="Abs.html#277" class="InductiveConstructor">abs</a> <a id="2268" href="Example.html#199" class="Function">𝕓</a> <a id="2270" class="Symbol">(</a><a id="2271" class="InductiveConstructor">VAR</a> <a id="2275" href="Example.html#199" class="Function">𝕓</a><a id="2276" class="Symbol">))</a> <a id="2279" class="InductiveConstructor Operator">-APP-</a> <a id="2285" class="InductiveConstructor">VAR</a> <a id="2289" href="Example.html#199" class="Function">𝕓</a>
<a id="2291" class="Symbol">_</a> <a id="2293" class="Symbol">=</a> <a id="2295" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre></body></html>